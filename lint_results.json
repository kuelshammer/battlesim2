[{"filePath":"/Users/max/Rust/Battlesim2/coverage/block-navigation.js","messages":[],"suppressedMessages":[{"ruleId":"no-undef","severity":2,"message":"'document' is not defined.","line":20,"column":35,"nodeType":"Identifier","messageId":"undef","endLine":20,"endColumn":43,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'document' is not defined.","line":67,"column":13,"nodeType":"Identifier","messageId":"undef","endLine":67,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'document' is not defined.","line":67,"column":55,"nodeType":"Identifier","messageId":"undef","endLine":67,"endColumn":63,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'document' is not defined.","line":68,"column":13,"nodeType":"Identifier","messageId":"undef","endLine":68,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'window' is not defined.","line":87,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":87,"endColumn":7,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/coverage/prettify.js","messages":[],"suppressedMessages":[{"ruleId":"no-undef","severity":2,"message":"'window' is not defined.","line":2,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":7,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'ar' is already defined.","line":2,"column":3893,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":3895,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'ar' is already defined.","line":2,"column":4061,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":4063,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'at' is already defined.","line":2,"column":4089,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":4091,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'ak' is already defined.","line":2,"column":4604,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":4606,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'ak' is already defined.","line":2,"column":4665,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":4667,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'am' is already defined.","line":2,"column":4670,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":4672,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'ag' is already defined.","line":2,"column":4691,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":4693,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'af' is already defined.","line":2,"column":4789,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":4791,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'ak' is already defined.","line":2,"column":4854,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":4856,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'am' is already defined.","line":2,"column":4859,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":4861,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'ak' is already defined.","line":2,"column":4949,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":4951,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'ag' is already defined.","line":2,"column":4970,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":4972,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'V' is already defined.","line":2,"column":5216,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":5217,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'U' is already defined.","line":2,"column":5220,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":5221,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'ae' is already defined.","line":2,"column":5244,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":5246,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'window' is not defined.","line":2,"column":5512,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":5518,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'document' is not defined.","line":2,"column":5539,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":5547,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-prototype-builtins","severity":2,"message":"Do not access Object.prototype method 'hasOwnProperty' from target object.","line":2,"column":6621,"nodeType":"CallExpression","messageId":"prototypeBuildIn","endLine":2,"endColumn":6635,"suggestions":[{"messageId":"callObjectPrototype","data":{"prop":"hasOwnProperty"},"fix":{"range":[6638,6656],"text":"Object.prototype.hasOwnProperty.call(ag, "},"desc":"Call Object.prototype.hasOwnProperty explicitly."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7590,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7591,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7610,7611],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7610,7610],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7592,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7593,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7612,7613],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7612,7612],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7594,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7595,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7614,7615],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7614,7614],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7601,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7602,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7621,7622],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7621,7621],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7616,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7617,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7636,7637],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7636,7636],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7628,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7629,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7648,7649],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7648,7648],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7637,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7638,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7657,7658],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7657,7657],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7639,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7640,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7659,7660],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7659,7659],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7641,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7642,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7661,7662],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7661,7661],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7647,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7648,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7667,7668],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7667,7667],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7649,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7650,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7669,7670],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7669,7669],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7651,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7652,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7671,7672],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7671,7671],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7658,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7659,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7678,7679],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7678,7678],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7673,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7674,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7693,7694],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7693,7693],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7685,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7686,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7705,7706],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7705,7705],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7694,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7695,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7714,7715],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7714,7714],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7696,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7697,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7716,7717],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7716,7716],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7698,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7699,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7718,7719],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7718,7718],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7704,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7705,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7724,7725],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7724,7724],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7713,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7714,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7733,7734],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7733,7733],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7730,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7731,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7750,7751],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7750,7750],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7736,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7737,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7756,7757],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7756,7756],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7745,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7746,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7765,7766],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7765,7765],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7762,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7763,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7782,7783],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7782,7782],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7826,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7827,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7846,7847],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7846,7846],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7835,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7836,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7855,7856],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7855,7855],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7852,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7853,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7872,7873],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7872,7872],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7858,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7859,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7878,7879],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7878,7878],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7867,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7868,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7887,7888],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7887,7887],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7884,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7885,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7904,7905],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7904,7904],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\`.","line":2,"column":7890,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7891,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7910,7911],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7910,7910],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\`.","line":2,"column":7899,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7900,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7919,7920],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7919,7919],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\`.","line":2,"column":7916,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7917,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7936,7937],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7936,7936],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7958,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7959,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7978,7979],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7978,7978],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7967,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7968,"suggestions":[{"messageId":"removeEscape","fix":{"range":[7987,7988],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[7987,7987],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":7983,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7984,"suggestions":[{"messageId":"removeEscape","fix":{"range":[8003,8004],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[8003,8003],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7989,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7990,"suggestions":[{"messageId":"removeEscape","fix":{"range":[8009,8010],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[8009,8009],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":7998,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":7999,"suggestions":[{"messageId":"removeEscape","fix":{"range":[8018,8019],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[8018,8018],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":8014,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":8015,"suggestions":[{"messageId":"removeEscape","fix":{"range":[8034,8035],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[8034,8034],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":8071,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":8072,"suggestions":[{"messageId":"removeEscape","fix":{"range":[8091,8092],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[8091,8091],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":8078,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":8079,"suggestions":[{"messageId":"removeEscape","fix":{"range":[8098,8099],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[8098,8098],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":8082,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":8083,"suggestions":[{"messageId":"removeEscape","fix":{"range":[8102,8103],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[8102,8102],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":8084,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":8085,"suggestions":[{"messageId":"removeEscape","fix":{"range":[8104,8105],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[8104,8104],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":8091,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":8092,"suggestions":[{"messageId":"removeEscape","fix":{"range":[8111,8112],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[8111,8111],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\..","line":2,"column":9231,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":9232,"suggestions":[{"messageId":"removeEscape","fix":{"range":[9251,9252],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[9251,9251],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":9235,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":9236,"suggestions":[{"messageId":"removeEscape","fix":{"range":[9255,9256],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[9255,9255],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":9237,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":9238,"suggestions":[{"messageId":"removeEscape","fix":{"range":[9257,9258],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[9257,9257],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\`.","line":2,"column":9239,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":9240,"suggestions":[{"messageId":"removeEscape","fix":{"range":[9259,9260],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[9259,9259],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\/.","line":2,"column":9241,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":9242,"suggestions":[{"messageId":"removeEscape","fix":{"range":[9261,9262],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[9261,9261],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\#.","line":2,"column":9243,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":9244,"suggestions":[{"messageId":"removeEscape","fix":{"range":[9263,9264],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[9263,9263],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'window' is not defined.","line":2,"column":9523,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":9529,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'Y' is already defined.","line":2,"column":10812,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":10813,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'navigator' is not defined.","line":2,"column":11008,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":11017,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'ae' is assigned a value but never used.","line":2,"column":11414,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":11416,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'af' is assigned a value but never used.","line":2,"column":11438,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":11440,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'ag' is assigned a value but never used.","line":2,"column":11471,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":11473,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-redeclare","severity":2,"message":"'W' is already defined.","line":2,"column":11501,"nodeType":"Identifier","messageId":"redeclared","endLine":2,"endColumn":11502,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-prototype-builtins","severity":2,"message":"Do not access Object.prototype method 'hasOwnProperty' from target object.","line":2,"column":11964,"nodeType":"CallExpression","messageId":"prototypeBuildIn","endLine":2,"endColumn":11978,"suggestions":[{"messageId":"callObjectPrototype","data":{"prop":"hasOwnProperty"},"fix":{"range":[11982,11999],"text":"Object.prototype.hasOwnProperty.call(t, "},"desc":"Call Object.prototype.hasOwnProperty explicitly."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'window' is not defined.","line":2,"column":11998,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":12004,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-prototype-builtins","severity":2,"message":"Do not access Object.prototype method 'hasOwnProperty' from target object.","line":2,"column":12097,"nodeType":"CallExpression","messageId":"prototypeBuildIn","endLine":2,"endColumn":12111,"suggestions":[{"messageId":"callObjectPrototype","data":{"prop":"hasOwnProperty"},"fix":{"range":[12115,12132],"text":"Object.prototype.hasOwnProperty.call(t, "},"desc":"Call Object.prototype.hasOwnProperty explicitly."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\!.","line":2,"column":12253,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12254,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12273,12274],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12273,12273],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\-.","line":2,"column":12269,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12270,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12289,12290],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12289,12289],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":12685,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12686,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12705,12706],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12705,12705],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":12689,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12690,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12709,12710],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12709,12709],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":12693,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12694,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12713,12714],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12713,12713],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":12697,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12698,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12717,12718],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12717,12717],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":12701,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12702,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12721,12722],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12721,12721],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":12705,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12706,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12725,12726],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12725,12725],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":12835,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12836,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12855,12856],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12855,12855],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":12837,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12838,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12857,12858],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12857,12857],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":12849,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12850,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12869,12870],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12869,12869],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":12851,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12852,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12871,12872],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12871,12871],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\/.","line":2,"column":12855,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12856,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12875,12876],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12875,12875],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\/.","line":2,"column":12881,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12882,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12901,12902],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12901,12901],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":12913,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12914,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12933,12934],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12933,12933],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":12918,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12919,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12938,12939],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12938,12938],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":12923,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12924,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12943,12944],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12943,12943],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":12954,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12955,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12974,12975],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12974,12974],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":12959,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12960,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12979,12980],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12979,12979],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":12964,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12965,"suggestions":[{"messageId":"removeEscape","fix":{"range":[12984,12985],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[12984,12984],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":12998,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":12999,"suggestions":[{"messageId":"removeEscape","fix":{"range":[13018,13019],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[13018,13018],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":13000,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":13001,"suggestions":[{"messageId":"removeEscape","fix":{"range":[13020,13021],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[13020,13020],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":13038,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":13039,"suggestions":[{"messageId":"removeEscape","fix":{"range":[13058,13059],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[13058,13058],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":13043,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":13044,"suggestions":[{"messageId":"removeEscape","fix":{"range":[13063,13064],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[13063,13063],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":13048,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":13049,"suggestions":[{"messageId":"removeEscape","fix":{"range":[13068,13069],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[13068,13068],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":13080,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":13081,"suggestions":[{"messageId":"removeEscape","fix":{"range":[13100,13101],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[13100,13100],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":13085,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":13086,"suggestions":[{"messageId":"removeEscape","fix":{"range":[13105,13106],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[13105,13105],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":13090,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":13091,"suggestions":[{"messageId":"removeEscape","fix":{"range":[13110,13111],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[13110,13110],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":13125,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":13126,"suggestions":[{"messageId":"removeEscape","fix":{"range":[13145,13146],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[13145,13145],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":13127,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":13128,"suggestions":[{"messageId":"removeEscape","fix":{"range":[13147,13148],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[13147,13147],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'window' is not defined.","line":2,"column":14225,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":14231,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'document' is not defined.","line":2,"column":14293,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":14301,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'document' is not defined.","line":2,"column":14462,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":14470,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'ae' is assigned a value but never used.","line":2,"column":14757,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":14759,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'window' is not defined.","line":2,"column":14799,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":14805,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'setTimeout' is not defined.","line":2,"column":15450,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":15460,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'window' is not defined.","line":2,"column":15491,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":15497,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'window' is not defined.","line":2,"column":15515,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":15521,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'window' is not defined.","line":2,"column":15536,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":15542,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":15786,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":15788,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":15809,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":15811,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":15835,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":15837,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":15875,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":15877,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\!.","line":2,"column":15892,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":15893,"suggestions":[{"messageId":"removeEscape","fix":{"range":[15912,15913],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[15912,15912],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\-.","line":2,"column":15908,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":15909,"suggestions":[{"messageId":"removeEscape","fix":{"range":[15928,15929],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[15928,15928],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":15918,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":15920,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":16362,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":16364,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":16410,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":16412,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":16453,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":16455,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":16498,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":16500,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":16551,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":16553,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":16574,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":16576,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":16597,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":16599,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":16646,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":16648,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":16661,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":16662,"suggestions":[{"messageId":"removeEscape","fix":{"range":[16681,16682],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[16681,16681],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":16676,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":16677,"suggestions":[{"messageId":"removeEscape","fix":{"range":[16696,16697],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[16696,16696],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":16708,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":16709,"suggestions":[{"messageId":"removeEscape","fix":{"range":[16728,16729],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[16728,16728],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":16719,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":16721,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":16734,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":16735,"suggestions":[{"messageId":"removeEscape","fix":{"range":[16754,16755],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[16754,16754],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":16749,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":16750,"suggestions":[{"messageId":"removeEscape","fix":{"range":[16769,16770],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[16769,16769],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":16781,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":16782,"suggestions":[{"messageId":"removeEscape","fix":{"range":[16801,16802],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[16801,16801],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\).","line":2,"column":16817,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":16818,"suggestions":[{"messageId":"removeEscape","fix":{"range":[16837,16838],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[16837,16837],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":16819,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":16820,"suggestions":[{"messageId":"removeEscape","fix":{"range":[16839,16840],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[16839,16839],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":16821,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":16822,"suggestions":[{"messageId":"removeEscape","fix":{"range":[16841,16842],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[16841,16841],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":16833,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":16835,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\!.","line":2,"column":16860,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":16861,"suggestions":[{"messageId":"removeEscape","fix":{"range":[16880,16881],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[16880,16880],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\-.","line":2,"column":16991,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":16992,"suggestions":[{"messageId":"removeEscape","fix":{"range":[17011,17012],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[17011,17011],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":17026,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":17028,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\/.","line":2,"column":17059,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":17060,"suggestions":[{"messageId":"removeEscape","fix":{"range":[17079,17080],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[17079,17079],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":17079,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":17081,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":17111,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":17113,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":17161,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":17163,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":17203,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":17205,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\-.","line":2,"column":17256,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":17257,"suggestions":[{"messageId":"removeEscape","fix":{"range":[17276,17277],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[17276,17276],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":17285,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":17287,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":17311,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":17312,"suggestions":[{"messageId":"removeEscape","fix":{"range":[17331,17332],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[17331,17331],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":17313,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":17314,"suggestions":[{"messageId":"removeEscape","fix":{"range":[17333,17334],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[17333,17333],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":17331,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":17333,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":17354,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":17356,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":17380,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":17382,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\-.","line":2,"column":17435,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":17436,"suggestions":[{"messageId":"removeEscape","fix":{"range":[17455,17456],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[17455,17455],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":17477,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":17479,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":17500,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":17502,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'PR' is not defined.","line":2,"column":17526,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":17528,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\).","line":2,"column":17543,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":17544,"suggestions":[{"messageId":"removeEscape","fix":{"range":[17563,17564],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[17563,17563],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\\".","line":2,"column":17545,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":17546,"suggestions":[{"messageId":"removeEscape","fix":{"range":[17565,17566],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[17565,17565],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\'.","line":2,"column":17547,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":2,"endColumn":17548,"suggestions":[{"messageId":"removeEscape","fix":{"range":[17567,17568],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[17567,17567],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/coverage/sorter.js","messages":[],"suppressedMessages":[{"ruleId":"no-undef","severity":2,"message":"'document' is not defined.","line":12,"column":16,"nodeType":"Identifier","messageId":"undef","endLine":12,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'document' is not defined.","line":28,"column":29,"nodeType":"Identifier","messageId":"undef","endLine":28,"endColumn":37,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'document' is not defined.","line":29,"column":22,"nodeType":"Identifier","messageId":"undef","endLine":29,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":36,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":36,"endColumn":23,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'document' is not defined.","line":60,"column":24,"nodeType":"Identifier","messageId":"undef","endLine":60,"endColumn":32,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'document' is not defined.","line":128,"column":25,"nodeType":"Identifier","messageId":"undef","endLine":128,"endColumn":33,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-undef","severity":2,"message":"'window' is not defined.","line":210,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":210,"endColumn":7,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/next.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/scripts/audit_rules.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/scripts/simulate_and_log.js","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'inputData' is assigned a value but never used.","line":21,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":20,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/simulation-wasm/simulation_runner.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/__mocks__/wasmMock.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/combat/EventLog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/ActionCostEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/ActionRequirementEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/ImportButton.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/ImportButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/ImportModal.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/ImportModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/ResourceEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/SaveBonusModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/StrategyBuilder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/TagSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/actionForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/creatureForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/customForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/loadCreatureForm.tsx","messages":[{"ruleId":"no-constant-binary-expression","severity":1,"message":"Unexpected constant binary expression. Compares constantly with the right-hand side of the `===`.","line":18,"column":9,"nodeType":"UnaryExpression","messageId":"constantBinaryOperand","endLine":18,"endColumn":28},{"ruleId":"valid-typeof","severity":1,"message":"Invalid typeof comparison value.","line":18,"column":33,"nodeType":"Identifier","messageId":"invalidValue","endLine":18,"endColumn":42,"suggestions":[{"messageId":"suggestString","data":{"type":"undefined"},"fix":{"range":[622,631],"text":"\"undefined\""},"desc":"Use `\"undefined\"` instead of `undefined`."}]},{"ruleId":"no-constant-binary-expression","severity":1,"message":"Unexpected constant binary expression. Compares constantly with the right-hand side of the `===`.","line":33,"column":9,"nodeType":"UnaryExpression","messageId":"constantBinaryOperand","endLine":33,"endColumn":28},{"ruleId":"valid-typeof","severity":1,"message":"Invalid typeof comparison value.","line":33,"column":33,"nodeType":"Identifier","messageId":"invalidValue","endLine":33,"endColumn":42,"suggestions":[{"messageId":"suggestString","data":{"type":"undefined"},"fix":{"range":[981,990],"text":"\"undefined\""},"desc":"Use `\"undefined\"` instead of `undefined`."}]},{"ruleId":"no-constant-binary-expression","severity":1,"message":"Unexpected constant binary expression. Compares constantly with the right-hand side of the `===`.","line":62,"column":13,"nodeType":"UnaryExpression","messageId":"constantBinaryOperand","endLine":62,"endColumn":32},{"ruleId":"valid-typeof","severity":1,"message":"Invalid typeof comparison value.","line":62,"column":37,"nodeType":"Identifier","messageId":"invalidValue","endLine":62,"endColumn":46,"suggestions":[{"messageId":"suggestString","data":{"type":"undefined"},"fix":{"range":[1965,1974],"text":"\"undefined\""},"desc":"Use `\"undefined\"` instead of `undefined`."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { FC, useState } from \"react\";\nimport { Creature, CreatureSchema } from \"@/model/model\";\nimport styles from './loadCreatureForm.module.scss'\nimport Modal from \"../utils/modal\";\nimport { z } from 'zod'\nimport { clone } from \"@/model/utils\";\nimport SortTable from \"@/utils/sortTable\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faFolder, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { v4 as uuid } from 'uuid';\n\ntype PropType = {\n    onCancel: () => void,\n    onLoad: (newCreature: Creature) => void,\n}\n\nfunction loadSaves(): Creature[] {\n    if (typeof localStorage === undefined) return []\n\n    const json = localStorage.getItem('savedCreatures')\n    if (!json) return []\n    \n    const obj = JSON.parse(json)\n    const parsed = z.array(CreatureSchema).safeParse(obj)\n\n    if (parsed.success) {\n        return parsed.data\n    }\n    return []\n}\n\nexport function saveCreature(creature: Creature) {\n    if (typeof localStorage === undefined) return\n    if (!localStorage.getItem('useLocalStorage')) return\n\n    const saves = loadSaves()\n\n    const existingIndex = saves.findIndex(save => (save.id === creature.id) && (save.name === creature.name))\n\n    if (existingIndex != -1) {\n        saves[existingIndex] = creature\n    } else {\n        saves.push(creature)\n    }\n\n    localStorage.setItem('savedCreatures', JSON.stringify(saves))\n}\n\nconst LoadCreatureForm:FC<PropType> = ({ onCancel, onLoad }) => {\n    const [selected, setSelected] = useState<Creature|undefined>(undefined)\n    const [saves, setSaves] = useState(loadSaves())\n\n    function deleteSave(creature: Creature) {\n        const index = saves.findIndex((save) => (save.id === creature.id) && (save.name === creature.name))\n        if (index === -1) return\n\n        const savesClone = clone(saves)\n        savesClone.splice(index, 1)\n        setSaves(savesClone)\n        setTimeout(() => setSelected(undefined), 0)\n\n        if (typeof localStorage === undefined) return\n        if (!localStorage.getItem('useLocalStorage')) return\n        localStorage.setItem('savedCreatures', JSON.stringify(savesClone))\n    }\n\n    return (\n        <Modal onCancel={onCancel} className={styles.loadCreature}>\n            <SortTable\n                value={selected}\n                list={saves}\n                onChange={setSelected}\n                comparators={{\n                    Name: (a, b) => a.name.localeCompare(b.name),\n                }}>\n                    { creature => (\n                        <div className={styles.creature}>\n                            <span className={styles.creatureName}>{creature.name}</span>\n                            <button onClick={() => deleteSave(creature)}><FontAwesomeIcon icon={faTrash} /></button>\n                        </div>\n                    )}\n            </SortTable>\n\n            <button\n                disabled={selected === undefined}\n                onClick={() => selected && onLoad({ ...clone(selected), id: uuid() })}>\n                    <FontAwesomeIcon icon={faFolder} />\n                    Load {selected !== undefined ? selected.name : null}\n            </button>\n        </Modal>\n    )\n}\n\nexport default LoadCreatureForm","usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/monsterForm.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is defined but never used.","line":92,"column":73,"nodeType":null,"messageId":"unusedVar","endLine":92,"endColumn":74,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is defined but never used.","line":97,"column":73,"nodeType":null,"messageId":"unusedVar","endLine":97,"endColumn":74,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/creatureForm/playerForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/debug/PerformanceDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/debug/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/AccessibilityContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/AccessibilityToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/ActionEconomyDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/AdjustmentPreview.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/AdjustmentPreview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/AnalysisComponents.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getHpBarColor' is assigned a value but never used.","line":300,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":300,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/AssistantSummary.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/AssistantSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/BalancerBandOverlay.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'chartId' is defined but never used.","line":49,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":49,"endColumn":12,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/CombatReplayModal.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'actorId' is defined but never used.","line":382,"column":52,"nodeType":null,"messageId":"unusedVar","endLine":382,"endColumn":59,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'actionMap' is assigned a value but never used.","line":641,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":641,"endColumn":18,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'showGlobalEvents' is assigned a value but never used.","line":731,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":731,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setShowGlobalEvents' is assigned a value but never used.","line":731,"column":26,"nodeType":null,"messageId":"unusedVar","endLine":731,"endColumn":45,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'play' is assigned a value but never used.","line":747,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":747,"endColumn":7,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'pause' is assigned a value but never used.","line":749,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":749,"endColumn":8,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/CrosshairContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/CrosshairLine.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'chartId' is defined but never used.","line":30,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":30,"endColumn":12,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/DeathBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/DeltaBadge.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/DeltaBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/DescentGraph.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/DescentGraph.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/FuelGauge.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/FuelGauge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/HPSkyline.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleBucketClick' is assigned a value but never used.","line":346,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":346,"endColumn":28,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/HeartbeatGraph.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/OnboardingTour.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/PartyOverview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/PlayerGraphs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/ResourcePanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/ResourceSkyline.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleBucketClick' is assigned a value but never used.","line":344,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":344,"endColumn":28,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/SkylineCanvas.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getCanvasSize' is defined but never used.","line":36,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":36,"endColumn":23,"suppressions":[{"kind":"directive","justification":"Used in other components"}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/SkylineE2E.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/SkylineHeatmap.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/SkylineSpectrogram.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/adventuringDayForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/battleCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/decileAnalysis.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/encounterForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/encounterResult.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/encounterResult.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/eventLog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/pacing.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/pacingUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/simulation.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/simulation/simulation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/ui/LoadingSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/ui/ProgressTracker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/ui/SimulationControls.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/ui/SimulationResults.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_LoadingSkeleton' is assigned a value but never used.","line":62,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":62,"endColumn":23,"suppressions":[{"kind":"directive","justification":"Kept for future use"}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/DecimalInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/LoadingExample.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/LoadingOverlay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/LoadingSpinner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/ProgressUI.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/UiTogglePanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/diceFormulaInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/footer.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":1,"message":"The `{}` (\"empty object\") type allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowObjectTypes' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":4,"column":17,"nodeType":"TSTypeLiteral","messageId":"noEmptyObject","endLine":4,"endColumn":19,"suggestions":[{"messageId":"replaceEmptyObjectType","data":{"replacement":"object"},"fix":{"range":[87,89],"text":"object"},"desc":"Replace `{}` with `object`."},{"messageId":"replaceEmptyObjectType","data":{"replacement":"unknown"},"fix":{"range":[87,89],"text":"unknown"},"desc":"Replace `{}` with `unknown`."}]},{"ruleId":"no-empty-pattern","severity":1,"message":"Unexpected empty object pattern.","line":4,"column":24,"nodeType":"ObjectPattern","messageId":"unexpected","endLine":4,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { FC } from \"react\";\nimport styles from './footer.module.scss'\n\nconst Footer:FC<{}> = ({}) => {\n    return (\n        <div className={styles.footer}>\n            <span className={styles.legal}>\n                BattleSim is a 5e combat simulator by Trekiros. BattleSim is unofficial Fan Content permitted under the Fan Content Policy. Not approved/endorsed by Wizards. Portions of the materials used are property of Wizards of the Coast. Wizards of the Coast LLC.\n            </span>\n            <span className={styles.socials}>\n                <a href=\"https://youtube.com/@trekiros\" target=\"_blank\">\n                    <img src=\"./socials/youtube.svg\" alt=\"Youtube\" />\n                </a>\n                <a href=\"https://discord.gg/9AJtv5DJ6f\" target=\"_blank\">\n                    <img src=\"./socials/discord.svg\" alt=\"Discord\" />\n                </a>\n                <a href=\"https://twitter.com/trekiros\" target=\"_blank\">\n                    <img src=\"./socials/twitter.svg\" alt=\"Twitter\" />\n                </a>\n                <a href=\"https://github.com/Trekiros/battleSim\" target=\"_blank\">\n                    <img src=\"./socials/github.svg\" alt=\"Github\" />\n                </a>\n            </span>\n        </div>\n    )\n}\n\nexport default Footer","usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/logo.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":1,"message":"The `{}` (\"empty object\") type allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowObjectTypes' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":4,"column":17,"nodeType":"TSTypeLiteral","messageId":"noEmptyObject","endLine":6,"endColumn":2,"suggestions":[{"messageId":"replaceEmptyObjectType","data":{"replacement":"object"},"fix":{"range":[84,99],"text":"object"},"desc":"Replace `{}` with `object`."},{"messageId":"replaceEmptyObjectType","data":{"replacement":"unknown"},"fix":{"range":[84,99],"text":"unknown"},"desc":"Replace `{}` with `unknown`."}]}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'props' is defined but never used.","line":9,"column":29,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { FC } from \"react\"\nimport styles from './logo.module.scss'\n\ntype PropType = {\n    // TODO\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst Logo: FC<PropType> = (props) => {\n    return (\n        <div className={styles.logo}>\n            \n        <div className={styles.bookContainer}>\n                <div className={styles.book}></div>\n        \n                <div className={styles.corner}></div>\n                <div className={styles.corner}></div>\n                <div className={styles.corner}></div>\n                <div className={styles.corner}></div>\n        \n                <div className={styles.rim}>\n                    <div>\n                        <div></div>\n                    </div>\n                </div>\n\n                <div className={styles.ribbonContainer}>\n                    <div className={styles.ribbon}></div>\n                </div>\n            </div>\n\n            <div className={styles.playBtnContainer}>\n                <div className={styles.playBtn}></div>\n            </div>\n        </div>\n    )\n}\n\nexport default Logo","usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/range.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/rgpd.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":1,"message":"The `{}` (\"empty object\") type allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowObjectTypes' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":3,"column":17,"nodeType":"TSTypeLiteral","messageId":"noEmptyObject","endLine":3,"endColumn":19,"suggestions":[{"messageId":"replaceEmptyObjectType","data":{"replacement":"object"},"fix":{"range":[56,58],"text":"object"},"desc":"Replace `{}` with `object`."},{"messageId":"replaceEmptyObjectType","data":{"replacement":"unknown"},"fix":{"range":[56,58],"text":"unknown"},"desc":"Replace `{}` with `unknown`."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { FC, useEffect } from \"react\";\n\ntype PropType = {}\n\nconst RGPD: FC<PropType> = () => {\n    useEffect(() => {\n        if (typeof window !== 'undefined' && localStorage) {\n            localStorage.setItem('useLocalStorage', 'true');\n        }\n    }, []);\n\n    return null;\n}\n\nexport default RGPD","usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/sortTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/components/utils/useLoading.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/data/actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/data/data.ts","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":1,"message":"Do not use \"@ts-nocheck\" because it alters compilation errors.","line":1,"column":1,"nodeType":"Line","messageId":"tsDirectiveComment","endLine":1,"endColumn":98}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_options' is defined but never used.","line":16,"column":35,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":43,"suppressions":[{"kind":"directive","justification":"Class template options kept for future use"}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_options' is defined but never used.","line":245,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":245,"endColumn":38,"suppressions":[{"kind":"directive","justification":"Class template options kept for future use"}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_options' is defined but never used.","line":345,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":345,"endColumn":40,"suppressions":[{"kind":"directive","justification":"Class template options kept for future use"}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_options' is defined but never used.","line":452,"column":31,"nodeType":null,"messageId":"unusedVar","endLine":452,"endColumn":39,"suppressions":[{"kind":"directive","justification":"Class template options kept for future use"}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_options' is defined but never used.","line":669,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":669,"endColumn":38,"suppressions":[{"kind":"directive","justification":"Class template options kept for future use"}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_options' is defined but never used.","line":780,"column":33,"nodeType":null,"messageId":"unusedVar","endLine":780,"endColumn":41,"suppressions":[{"kind":"directive","justification":"Class template options kept for future use"}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_options' is defined but never used.","line":957,"column":31,"nodeType":null,"messageId":"unusedVar","endLine":957,"endColumn":39,"suppressions":[{"kind":"directive","justification":"Class template options kept for future use"}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_options' is defined but never used.","line":1047,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":1047,"endColumn":42,"suppressions":[{"kind":"directive","justification":"Class template options kept for future use"}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_options' is defined but never used.","line":1117,"column":33,"nodeType":null,"messageId":"unusedVar","endLine":1117,"endColumn":41,"suppressions":[{"kind":"directive","justification":"Class template options kept for future use"}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_options' is defined but never used.","line":1186,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":1186,"endColumn":40,"suppressions":[{"kind":"directive","justification":"Class template options kept for future use"}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// @ts-nocheck - Temporarily excluded: legacy actions need migration to new schema (37 remaining)\nimport ClassOptions from '../model/classOptions'\nimport { Action, Creature } from \"../model/model\"\nimport { z } from 'zod'\nimport { DefaultMonsters } from './monsters'\nimport { v4 as uuid } from 'uuid'\nimport { ActionSlots } from '../model/enums'\nimport { calculateSpellSlots } from '../model/spellSlots'\n\n// TODO:\n// 1) Add more options to the templates\n// 2) Find a way to handle multiclasses\n\n/* eslint-disable @typescript-eslint/no-unused-vars -- Class template options kept for future use */\n\nfunction artificer(level: number, _options: z.infer<typeof ClassOptions.artificer>): Creature {\n    const INT = scale(level, { 1: 4, 4: 5, 8: 5 })\n    const CON = scale(level, { 1: 2, 12: 3, 16: 4, 19: 5 })\n    const PB = pb(level)\n    const ac = scale(level, { 1: 17, 3: 18, 5: 19, 10: 20, 15: 21, 20: 22 })\n    const toHit = INT + PB\n\n    const fireBolt = `${cantrip(level)}d10`\n    const arcaneFireArm = scale(level, { 1: '', 5: '+1d8[Arcane Firearm]' })\n\n    // Artificer is a unique caster\n    const spellSlots = calculateSpellSlots(level, 'artificer')\n\n    // Build class resources\n    const classResources: Record<string, number> = {}\n\n    // Infusions (level 2)\n    if (level >= 2) {\n        classResources['Infusion Uses'] = scale(level, { 2: 2, 6: 3, 10: 4, 14: 5, 18: 6 })\n    }\n\n    // Flash of Genius (level 7)\n    if (level >= 7) {\n        classResources['Flash of Genius'] = INT\n    }\n\n    // Spell-Storing Item (level 11)\n    if (level >= 11) {\n        classResources['Spell-Storing Item'] = 2 * INT\n    }\n\n    const result: Creature = {\n        id: uuid(),\n        name: name('Artificer', level),\n        ac: ac,\n        saveBonus: scale(level, { 1: PB, 20: PB + 6 }),\n        hp: hp(level, 8, CON),\n        hitDice: `${level}d8`,\n        conModifier: CON,\n        count: 1,\n        mode: 'player',\n        spellSlots: spellSlots,\n        classResources: Object.keys(classResources).length > 0 ? classResources : undefined,\n        triggers: [\n            {\n                id: uuid(),\n                condition: 'on being attacked',\n                cost: ActionSlots.Reaction,\n                action: {\n                    id: uuid(),\n                    type: 'template',\n                    freq: { reset: 'lr', uses: scale(level, { 1: 1, 3: 2, 5: 3, 7: 4, 9: 5, 11: 6, 13: 7, 15: 8, 17: 9 }) },\n                    condition: 'is under half HP',\n                    templateOptions: { templateName: 'Shield' },\n                }\n            }\n        ],\n        actions: scaleArray<Action>(level, {\n            1: [\n                {\n                    id: uuid(),\n                    name: 'Firebolt',\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    freq: 'at will',\n                    cost: [{ type: 'Discrete', resourceType: 'Action', amount: 1 }],\n                    requirements: [],\n                    tags: ['Attack', 'Damage', 'Fire'],\n                    targets: 1,\n                    target: 'enemy with least HP',\n                    toHit: toHit,\n                    dpr: fireBolt + arcaneFireArm,\n                    condition: 'default',\n                },\n            ],\n            2: [{\n                id: uuid(),\n                name: 'Artificer Infusions',\n                actionSlot: ActionSlots['Before the Encounter Starts'],\n                type: 'buff',\n                freq: '1/fight',\n                cost: [{ type: 'Discrete', resourceType: 'ClassResource', resourceVal: 'Infusion Uses', amount: 1 }],\n                requirements: [],\n                tags: ['Buff', 'Support'],\n                condition: 'is available',\n                targets: 100,\n                target: 'ally with most HP',\n                buff: {\n                    duration: 'entire encounter',\n                    toHit: scale(level, { 1: 1, 12: 2 }),\n                    ac: scale(level, { 1: 1, 12: 2 }),\n                }\n            }],\n            3: [{\n                id: uuid(),\n                name: 'Shield Turret',\n                actionSlot: ActionSlots['Bonus Action'],\n                type: 'heal',\n                freq: 'at will',\n                cost: [{ type: 'Discrete', resourceType: 'BonusAction', amount: 1 }],\n                requirements: [],\n                tags: ['TempHP', 'Support'],\n                condition: 'default',\n                targets: 2,\n                target: 'ally with least HP',\n                amount: `1d8+${INT}`,\n                tempHP: true,\n            }],\n        }),\n    }\n\n    return result\n}\n\nfunction barbarian(level: number, options: z.infer<typeof ClassOptions.barbarian>): Creature {\n    const STR = scale(level, { 1: 4, 4: 5, 20: 7 })\n    const CON = scale(level, { 1: 2, 8: 3, 12: 4, 16: 5, 20: 7 })\n    const DEX = 2\n    const PB = pb(level)\n    const RAGE_DAMAGE_BONUS = scale(level, { 1: 2, 9: 3, 16: 4 })\n\n    // Build class resources\n    const classResources: Record<string, number> = {}\n\n    // Rage: uses per Long Rest\n    classResources['Rage'] = scale(level, { 1: 2, 3: 3, 6: 4, 12: 5, 17: 6, 20: 999 })\n\n    const result: Creature = {\n        id: uuid(),\n        name: name('Barbarian', level),\n        ac: 10 + DEX + CON,\n        saveBonus: PB,\n        hp: hp(level, 12, CON),\n        hitDice: `${level}d12`,\n        conModifier: CON,\n        count: 1,\n        mode: 'player',\n        classResources: Object.keys(classResources).length > 0 ? classResources : undefined,\n        initiativeAdvantage: level >= 7, // Feral Instinct (level 7)\n        actions: scaleArray<Action>(level, {\n            1: [\n                {\n                    id: uuid(),\n                    name: 'Rage',\n                    actionSlot: ActionSlots['Bonus Action'],\n                    type: 'buff',\n                    targets: 1,\n                    target: 'self',\n                    freq: 'at will',\n                    condition: 'not used yet',\n                    cost: [{ type: 'Discrete', resourceType: 'ClassResource', resourceVal: 'Rage', amount: 1 }],\n                    buff: {\n                        displayName: 'Rage',\n                        duration: 'entire encounter',\n                        damageTakenMultiplier: 0.5,\n                    },\n                },\n                {\n                    id: uuid(),\n                    name: `Greatsword${level >= 5 ? ' x2' : ''}`,\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    targets: scale(level, { 1: 1, 5: 2 }),\n                    condition: 'default',\n                    freq: 'at will',\n                    target: 'enemy with least HP',\n                    toHit: `${PB}[PB] + ${STR}[STR]`\n                        + (options.weaponBonus ? ` + ${options.weaponBonus}[WEAPON]` : '')\n                        + (options.gwm ? ` - 5[GWM]` : ''),\n                    dpr: `2d6 + ${STR}[STR] + ${RAGE_DAMAGE_BONUS}[RAGE]`\n                        + (options.weaponBonus ? ` + ${options.weaponBonus}[WEAPON]` : '')\n                        + (options.gwm ? ` + 10[GWM]` : ''),\n                },\n                ...(options.gwm ? [\n                    {\n                        id: uuid(),\n                        name: 'GWM Extra Attack',\n                        actionSlot: ActionSlots['When reducing an enemy to 0 HP'],\n                        type: 'atk',\n                        targets: 1,\n                        condition: 'default',\n                        freq: 'at will',\n                        target: 'enemy with least HP',\n                        toHit: `${PB}[PB] + ${STR}[STR]`\n                            + (options.weaponBonus ? ` + ${options.weaponBonus}[WEAPON]` : '')\n                            + (options.gwm ? ` - 5[GWM]` : ''),\n                        dpr: `2d6 + ${STR}[STR] + ${RAGE_DAMAGE_BONUS}[RAGE]`\n                            + (options.weaponBonus ? ` + ${options.weaponBonus}[WEAPON]` : '')\n                            + (options.gwm ? ` + 10[GWM]` : ''),\n                    } as Action\n                ] : []),\n            ],\n            2: [\n                {\n                    id: uuid(),\n                    name: 'Reckless Attack',\n                    actionSlot: ActionSlots['Other 1'],\n                    type: 'buff',\n                    targets: 1,\n                    condition: 'default',\n                    freq: 'at will',\n                    target: 'self',\n                    buff: {\n                        displayName: 'Reckless Attack',\n                        duration: '1 round',\n                        condition: 'Attacks and is attacked with Advantage',\n                    }\n                },\n            ],\n            11: [\n                {\n                    id: uuid(),\n                    name: 'Relentless Rage',\n                    actionSlot: ActionSlots['When Reduced to 0 HP'],\n                    type: 'heal',\n                    targets: 1,\n                    target: 'self',\n                    freq: { reset: 'sr', uses: scale(level, { 11: 1, 20: 3 }) },\n                    condition: 'is available',\n                    amount: '1',\n                },\n            ],\n        })\n    }\n\n    return result\n}\n\n\nfunction bard(level: number, _options: z.infer<typeof ClassOptions.bard>): Creature {\n    const CON = 2\n    const CHA = scale(level, { 1: 4, 4: 5, 8: 5 })\n    const DEX = scale(level, { 1: 2, 12: 3, 16: 4 })\n    const PB = pb(level)\n    const DC = 8 + PB + CHA\n    const BARDIC_INSPI_DICE = scale(level, { 1: '1d6', 5: '1d8', 10: '1d10', 15: '1d12' })\n    const spellSlots = calculateSpellSlots(level, 'full')\n\n    // Build class resources\n    const classResources: Record<string, number> = {}\n\n    // Bardic Inspiration uses\n    classResources['Bardic Inspiration'] = CHA\n\n    // Countercharm (level 6)\n    if (level >= 6) {\n        classResources['Countercharm'] = 1\n    }\n\n    return {\n        id: uuid(),\n        name: name('Bard', level),\n        ac: 13 + DEX,\n        saveBonus: PB,\n        hp: hp(level, 8, CON),\n        hitDice: `${level}d8`,\n        conModifier: CON,\n        count: 1,\n        mode: 'player',\n        spellSlots: spellSlots,\n        classResources: Object.keys(classResources).length > 0 ? classResources : undefined,\n        actions: scaleArray<Action>(level, {\n            1: [\n                {\n                    id: uuid(),\n                    name: 'Vicious Mockery',\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    targets: 1,\n                    condition: 'default',\n                    freq: 'at will',\n                    target: 'enemy with highest DPR',\n                    toHit: DC,\n                    useSaves: true,\n                    dpr: `${cantrip(level)}d4`,\n                    riderEffect: {\n                        dc: 100,\n                        buff: {\n                            displayName: 'Vicious Mockery',\n                            duration: 'until next attack made',\n                            condition: 'Attacks with Disadvantage',\n                        },\n                    }\n                },\n                {\n                    id: uuid(),\n                    type: 'template',\n                    condition: 'not used yet',\n                    templateOptions: { templateName: 'Bane', saveDC: DC, target: 'enemy with highest DPR' },\n                },\n                {\n                    id: uuid(),\n                    name: 'Bardic Inspiration',\n                    actionSlot: ActionSlots['Bonus Action'],\n                    type: 'buff',\n                    targets: 1,\n                    condition: 'default',\n                    freq: 'at will',\n                    cost: [{ type: 'Discrete', resourceType: 'ClassResource', resourceVal: 'Bardic Inspiration', amount: 1 }],\n                    target: 'ally with highest DPR',\n                    buff: {\n                        duration: 'until next attack made',\n                        toHit: BARDIC_INSPI_DICE,\n                    },\n                },\n                {\n                    id: uuid(),\n                    name: (level < 9) ? 'Cure Wounds' : 'Mass Cure Wounds',\n                    actionSlot: ActionSlots.Action,\n                    type: 'heal',\n                    targets: (level < 9) ? 1 : 6,\n                    freq: { reset: 'lr', uses: scale(level, { 1: 1, 3: 2, 5: 3, 7: 4, 9: 2, 11: 3, 13: 4, 15: 5, 17: 6 }) },\n                    condition: 'ally at 0 HP',\n                    target: 'ally with least HP',\n                    amount: `${Math.ceil(level / 3)}d8 + ${CHA}`,\n                }\n            ],\n            5: [\n                {\n                    id: uuid(),\n                    type: 'template',\n                    condition: 'not used yet',\n                    templateOptions: { templateName: 'Hypnotic Pattern', saveDC: DC, target: 'enemy with highest DPR' }\n                },\n            ]\n        }),\n    }\n}\n\nfunction cleric(level: number, _options: z.infer<typeof ClassOptions.cleric>): Creature {\n    const CON = 2\n    const WIS = scale(level, { 1: 4, 4: 5, 8: 5 })\n    const PB = pb(level)\n    const DC = 8 + PB + WIS\n    const toHit = PB + WIS\n\n    const spellSlots = calculateSpellSlots(level, 'full')\n\n    // Build class resources\n    const classResources: Record<string, number> = {}\n\n    // Channel Divinity uses (resets on short/long rest)\n    if (level >= 2) {\n        classResources['Channel Divinity'] = scale(level, { 2: 1, 6: 2, 18: 3 })\n    }\n\n    return {\n        id: uuid(),\n        name: name('Cleric', level),\n        ac: scale(level, { 1: 17, 3: 18, 5: 19, 10: 20 }),\n        saveBonus: PB,\n        hp: hp(level, 8, CON),\n        hitDice: `${level}d8`,\n        conModifier: CON,\n        count: 1,\n        mode: 'player',\n        spellSlots: spellSlots,\n        classResources: Object.keys(classResources).length > 0 ? classResources : undefined,\n        actions: scaleArray<Action>(level, {\n            1: [\n                {\n                    id: uuid(),\n                    name: 'Sacred Flame',\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    targets: 1,\n                    freq: 'at will',\n                    condition: 'default',\n                    target: 'enemy with least HP',\n                    useSaves: true,\n                    toHit: DC,\n                    dpr: `${cantrip(level)}d8` + (level >= 8 ? ` + ${WIS}[Potent Spellcasting]` : ''),\n                },\n                {\n                    id: uuid(),\n                    type: 'template',\n                    condition: 'not used yet',\n                    templateOptions: { templateName: 'Bless', target: 'ally with highest DPR' },\n                },\n                {\n                    id: uuid(),\n                    name: scale(level, { 1: 'Cure Wounds', 11: 'Heal' }),\n                    actionSlot: ActionSlots.Action,\n                    type: 'heal',\n                    targets: 1,\n                    freq: { reset: 'lr', uses: scale(level, { 1: 1, 3: 2, 5: 3, 7: 4, 9: 5, 11: 1, 13: 2, 15: 3 }) },\n                    condition: 'ally at 0 HP',\n                    target: 'ally with least HP',\n                    amount: scale(level, { 1: `${Math.ceil(level / 3)}d8 + ${WIS}`, 11: 70 }),\n                },\n            ],\n            3: [\n                {\n                    id: uuid(),\n                    name: 'Spiritual Weapon',\n                    actionSlot: ActionSlots['Bonus Action'],\n                    type: 'atk',\n                    targets: 1,\n                    freq: 'at will',\n                    condition: 'default',\n                    target: 'enemy with least HP',\n                    toHit: toHit,\n                    dpr: `${Math.ceil(level / 6)}d8 + ${WIS}`,\n                },\n            ],\n            5: [\n                {\n                    id: uuid(),\n                    name: 'Spirit Guardians',\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    targets: 3,\n                    freq: 'at will',\n                    condition: 'default',\n                    target: 'enemy with least HP',\n                    useSaves: true,\n                    halfOnSave: true,\n                    toHit: DC,\n                    dpr: `${(Math.ceil(level / 5) + 2)}d6`,\n                },\n                {\n                    id: uuid(),\n                    name: scale(level, { 5: 'Mass Healing Word', 9: 'Mass Cure Wounds' }),\n                    actionSlot: ActionSlots.Action,\n                    type: 'heal',\n                    targets: 6,\n                    freq: { reset: 'lr', uses: scale(level, { 5: 1, 9: 2, 13: 3, 17: 4 }) },\n                    condition: 'ally under half HP',\n                    target: 'ally with least HP',\n                    amount: scale(level, { 5: `1d4 + ${WIS}`, 9: `3d8 + ${WIS}`, 17: 70 }),\n                },\n            ],\n        }),\n    }\n}\n\nfunction druid(level: number, _options: z.infer<typeof ClassOptions.druid>): Creature {\n    const CON = 2\n    const DEX = 2\n    const WIS = scale(level, { 1: 4, 4: 5, 8: 5 })\n    const PB = pb(level)\n    const toHit = PB + WIS\n\n    const spellSlots = calculateSpellSlots(level, 'full')\n\n    // Build class resources\n    const classResources: Record<string, number> = {}\n\n    // Wild Shape uses (resets on short/long rest, unlimited at level 20)\n    if (level >= 2) {\n        classResources['Wild Shape'] = scale(level, { 2: 2, 20: 999 })\n    }\n\n    const wildshape = scale<Creature>(level, {\n        1: { name: 'None', hp: 0, ac: 10, actions: [] } as unknown as Creature, // Placeholder for lvl 1\n        2: DefaultMonsters.find(m => m.name === 'Dire Wolf')!,\n        6: DefaultMonsters.find(m => m.name === 'Giant Constrictor Snake')!,\n        9: DefaultMonsters.find(m => m.name === 'Giant Scorpion')!,\n        10: DefaultMonsters.find(m => m.name === 'Fire Elemental')!,\n    })\n\n    const wildShapeAction: Action = {\n        id: uuid(),\n        name: `Wild Shape: ${wildshape.name}`,\n        actionSlot: ActionSlots['Bonus Action'],\n        type: 'heal',\n        target: 'self',\n        targets: 1,\n        condition: 'has no THP',\n        freq: 'at will',\n        cost: [{ type: 'Discrete', resourceType: 'ClassResource', resourceVal: 'Wild Shape', amount: 1 }],\n        amount: wildshape.hp,\n        tempHP: true,\n    }\n\n    return {\n        id: uuid(),\n        name: name('Druid', level),\n        ac: level >= 2 ? wildshape.ac : 14 + DEX,\n        saveBonus: PB,\n        hp: hp(level, 8, CON),\n        hitDice: `${level}d8`,\n        conModifier: CON,\n        count: 1,\n        mode: 'player',\n        spellSlots: spellSlots,\n        classResources: Object.keys(classResources).length > 0 ? classResources : undefined,\n        actions: [\n            ...(level >= 2 ? wildshape.actions : [\n                {\n                    id: uuid(),\n                    name: 'Shillelagh',\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    condition: 'default',\n                    freq: 'at will',\n                    targets: 1,\n                    target: 'enemy with least HP',\n                    toHit: toHit,\n                    dpr: `1d8 + ${WIS}`,\n                },\n            ]),\n            ...scaleArray<Action>(level, {\n                1: [\n                    {\n                        id: uuid(),\n                        name: 'Cure Wounds',\n                        actionSlot: ActionSlots.Action,\n                        type: 'heal',\n                        targets: 1,\n                        cost: [{ type: 'Discrete', resourceType: 'SpellSlot', resourceVal: 'level_1', amount: 1 }],\n                        condition: 'ally at 0 HP',\n                        target: 'ally with least HP',\n                        amount: `1d8 + ${WIS}`,\n                    },\n                ],\n                18: [\n                    {\n                        id: uuid(),\n                        type: 'template',\n                        condition: 'ally at 0 HP',\n                        templateOptions: { templateName: 'Heal', target: 'ally with least HP' },\n                    },\n                ],\n            }),\n            ...(level >= 2 ? [wildShapeAction] : []),\n        ].reverse(),\n    }\n}\n\nfunction fighter(level: number, options: z.infer<typeof ClassOptions.fighter>): Creature {\n    const CON = 2\n    const STR = scale(level, { 1: 4, 4: 5, 6: 5 })\n    const PB = pb(level)\n    const ac = scale(level, { 1: 16, 3: 17, 6: 18, 10: 19, 15: 20 })\n    const toHit = `${PB}[PB] + ${STR}[STR]`\n        + (options.weaponBonus ? ` + ${options.weaponBonus}[WEAPON]` : '')\n        + (options.gwm ? ` - 5[GWM]` : '')\n\n    const attacks = scale(level, { 1: 1, 5: 2, 11: 3, 20: 4 })\n\n    // Build class resources\n    const classResources: Record<string, number> = {}\n\n    // Action Surge\n    if (level >= 2) {\n        classResources['Action Surge'] = scale(level, { 2: 1, 17: 2 })\n    }\n\n    // Second Wind\n    classResources['Second Wind'] = 1\n\n    // Indomitable\n    if (level >= 9) {\n        classResources['Indomitable'] = scale(level, { 9: 1, 13: 2, 17: 3 })\n    }\n\n    const action: Action = {\n        id: uuid(),\n        name: `Greatsword${attacks > 1 ? ' x' + attacks : ''}`,\n        actionSlot: ActionSlots.Action,\n        type: 'atk',\n        freq: 'at will',\n        condition: 'default',\n        target: 'enemy with least HP',\n        targets: attacks,\n        cost: [{ type: 'Discrete', resourceType: 'Action', amount: 1 }],\n        requirements: [],\n        tags: ['Melee', 'Weapon', ...(options.gwm ? ['GWM' as const] : [])],\n        toHit: toHit,\n        dpr: `2d6 + ${STR}[STR]`\n            + (options.weaponBonus ? ` + ${options.weaponBonus}[WEAPON]` : '')\n            + (options.gwm ? ' + 10[GWM]' : '')\n    }\n\n    return {\n        id: uuid(),\n        name: name('Fighter', level),\n        ac: ac,\n        saveBonus: PB,\n        conSaveBonus: PB + CON,\n        hp: hp(level, 10, CON),\n        hitDice: `${level}d10`,\n        conModifier: CON,\n        count: 1,\n        mode: 'player',\n        classResources: Object.keys(classResources).length > 0 ? classResources : undefined,\n        actions: scaleArray<Action>(level, {\n            1: [\n                action,\n                {\n                    id: uuid(),\n                    name: 'Second Wind',\n                    actionSlot: ActionSlots['Bonus Action'],\n                    type: 'heal',\n                    target: 'self',\n                    freq: { reset: 'sr', uses: 1 },\n                    condition: 'is under half HP',\n                    targets: 1,\n                    cost: [\n                        { type: 'Discrete', resourceType: 'BonusAction', amount: 1 },\n                        { type: 'Discrete', resourceType: 'ClassResource', resourceVal: 'Second Wind', amount: 1 }\n                    ],\n                    requirements: [],\n                    tags: ['Healing'],\n                    amount: `1d10 + ${level}`,\n                }\n            ],\n            2: [\n                {\n                    id: uuid(),\n                    name: `Action Surge: ${action.name}`,\n                    actionSlot: ActionSlots.Other1,\n                    freq: 'at will', // Consumes resource\n                    condition: 'is available',\n                    type: 'atk',\n                    target: 'enemy with least HP',\n                    targets: attacks,\n                    cost: [\n                        { type: 'Discrete', resourceType: 'ClassResource', resourceVal: 'Action Surge', amount: 1 }\n                    ],\n                    requirements: [],\n                    tags: ['Melee', 'Weapon', ...(options.gwm ? ['GWM' as const] : [])],\n                    toHit: toHit,\n                    dpr: action.dpr,\n                }\n            ],\n            9: [\n                {\n                    id: uuid(),\n                    name: 'Indomitable',\n                    actionSlot: ActionSlots.Other2,\n                    type: 'buff',\n                    freq: 'at will', // Consumes resource\n                    condition: 'default',\n                    targets: 1,\n                    target: 'self',\n                    cost: [\n                        { type: 'Discrete', resourceType: 'ClassResource', resourceVal: 'Indomitable', amount: 1 }\n                    ],\n                    requirements: [],\n                    tags: ['Defense'],\n                    buff: {\n                        displayName: 'Indomitable',\n                        duration: 'until next attack taken',\n                        save: 10, // Reroll approximation\n                    },\n                }\n            ],\n        })\n    }\n}\n\nfunction monk(level: number, _options: z.infer<typeof ClassOptions.monk>): Creature {\n    const CON = 2\n    const DEX = scale(level, { 1: 4, 4: 5, 8: 5 })\n    const WIS = scale(level, { 1: 3, 4: 4, 12: 5 })\n    const PB = pb(level)\n    const toHit = PB + DEX\n    const DC = 8 + PB + WIS\n    const ac = 10 + DEX + WIS\n\n    const martialArtsDie = scale(level, { 1: '1d4', 5: '1d6', 11: '1d8', 17: '1d10' })\n\n    // Build class resources\n    const classResources: Record<string, number> = {}\n\n    // Ki Points (resets on short/long rest)\n    if (level >= 2) {\n        classResources['Ki Points'] = level\n    }\n\n    return {\n        id: uuid(),\n        name: name('Monk', level),\n        ac: ac,\n        saveBonus: PB,\n        hp: hp(level, 8, CON),\n        hitDice: `${level}d8`,\n        conModifier: CON,\n        count: 1,\n        mode: 'player',\n        classResources: Object.keys(classResources).length > 0 ? classResources : undefined,\n        actions: scaleArray<Action>(level, {\n            1: [\n                {\n                    id: uuid(),\n                    name: scale(level, { 1: 'Quarterstaff', 5: 'Quarterstaff x2' }),\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: scale(level, { 1: 1, 5: 2 }),\n                    target: 'enemy with highest DPR',\n                    toHit: toHit,\n                    dpr: `1d8 + ${DEX}`,\n                },\n                {\n                    id: uuid(),\n                    name: 'Unarmed Strike (Bonus Action)',\n                    actionSlot: ActionSlots['Bonus Action'],\n                    type: 'atk',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: 1,\n                    target: 'enemy with highest DPR',\n                    toHit: toHit,\n                    dpr: `${martialArtsDie} + ${DEX}`,\n                },\n            ],\n            2: [\n                {\n                    id: uuid(),\n                    name: 'Flurry of Blows',\n                    actionSlot: ActionSlots['Bonus Action'],\n                    type: 'atk',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: 2,\n                    target: 'enemy with highest DPR',\n                    toHit: toHit,\n                    dpr: `${martialArtsDie} + ${DEX}`,\n                    cost: [{ type: 'Discrete', resourceType: 'ClassResource', resourceVal: 'Ki Points', amount: 1 }],\n                },\n                {\n                    id: uuid(),\n                    name: 'Patient Defense (Dodge)',\n                    actionSlot: ActionSlots['Bonus Action'],\n                    type: 'buff',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: 1,\n                    target: 'self',\n                    cost: [{ type: 'Discrete', resourceType: 'ClassResource', resourceVal: 'Ki Points', amount: 1 }],\n                    buff: {\n                        displayName: 'Patient Defense',\n                        duration: '1 round',\n                        condition: 'Is attacked with Disadvantage',\n                    },\n                },\n            ],\n            5: [\n                {\n                    id: uuid(),\n                    name: 'Stunning Strike',\n                    actionSlot: ActionSlots['Other 1'],\n                    type: 'debuff',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: 1,\n                    target: 'enemy with highest DPR',\n                    cost: [{ type: 'Discrete', resourceType: 'ClassResource', resourceVal: 'Ki Points', amount: 1 }],\n                    saveDC: DC,\n                    buff: {\n                        displayName: 'Stunned',\n                        duration: '1 round',\n                        condition: 'Stunned',\n                    },\n                },\n            ],\n        }),\n    }\n}\n\nfunction paladin(level: number, _options: z.infer<typeof ClassOptions.paladin>): Creature {\n    const CON = 2\n    const STR = scale(level, { 1: 4, 4: 5, 8: 5 })\n    const CHA = scale(level, { 1: 3, 4: 4, 12: 5 })\n    const PB = pb(level)\n    const ac = scale(level, { 1: 17, 3: 18, 5: 19, 10: 20, 15: 21 })\n    const toHit = `${PB}[PB] + ${STR}[STR]`\n        + (options.weaponBonus ? ` + ${options.weaponBonus}[WEAPON]` : '')\n        + (options.gwm ? ` - 5[GWM]` : '')\n\n    const spellSlots = calculateSpellSlots(level, 'half')\n\n    const classResources: Record<string, number> = {\n        'Lay on Hands': 5 * level,\n    }\n\n    return {\n        id: uuid(),\n        name: name('Paladin', level),\n        ac: ac,\n        saveBonus: PB,\n        hp: hp(level, 10, CON),\n        hitDice: `${level}d10`,\n        conModifier: CON,\n        count: 1,\n        mode: 'player',\n        spellSlots: spellSlots,\n        classResources: Object.keys(classResources).length > 0 ? classResources : undefined,\n        triggers: [\n            {\n                id: uuid(),\n                condition: 'on hit',\n                action: {\n                    id: uuid(),\n                    name: 'Divine Smite',\n                    actionSlot: ActionSlots['Other 1'],\n                    type: 'atk',\n                    cost: [{ type: 'Discrete', resourceType: 'SpellSlot', resourceVal: 'level_1', amount: 1 }],\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: 1,\n                    target: 'enemy with least HP',\n                    toHit: 100,\n                    dpr: `${scale(level, { 1: 2, 5: 3, 11: 4, 17: 5 })}d8`,\n                }\n            }\n        ],\n        actions: scaleArray<Action>(level, {\n            1: [\n                {\n                    id: uuid(),\n                    name: scale(level, { 1: 'Longsword', 5: 'Longsword x2' }),\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: scale(level, { 1: 1, 5: 2 }),\n                    target: 'enemy with least HP',\n                    toHit: toHit,\n                    dpr: `1d8 + ${STR}[STR]`\n                        + (level >= 2 ? ' + 2[Fighting Style]' : '')\n                        + (options.weaponBonus ? ` + ${options.weaponBonus}[WEAPON]` : '')\n                        + (options.gwm ? ' + 10[GWM]' : '')\n                        + (level >= 11 ? ' + 1d8[IDS]' : ''),\n                },\n                {\n                    id: uuid(),\n                    name: 'Lay on Hands',\n                    actionSlot: ActionSlots.Action,\n                    type: 'heal',\n                    freq: 'at will',\n                    condition: 'any ally injured',\n                    targets: 1,\n                    target: 'ally with least HP',\n                    amount: 5,\n                    cost: [\n                        {\n                            type: 'Discrete',\n                            resourceType: 'ClassResource',\n                            resourceVal: 'Lay on Hands',\n                            amount: 5,\n                        }\n                    ]\n                },\n            ],\n            6: [\n                {\n                    id: uuid(),\n                    name: 'Aura of Protection',\n                    actionSlot: ActionSlots['Other 2'],\n                    type: 'buff',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: 3,\n                    target: 'ally with least HP',\n                    buff: {\n                        displayName: 'Aura of Protection',\n                        duration: '1 round',\n                        save: CHA,\n                    },\n                },\n            ],\n        }),\n    }\n}\n\nfunction ranger(level: number, options: z.infer<typeof ClassOptions.ranger>): Creature {\n    const CON = 2\n    const DEX = scale(level, { 1: 4, 4: 5, 8: 5 })\n    const PB = pb(level)\n    const ac = DEX + scale(level, { 1: 12, 5: 13, 11: 14 })\n    const toHit = `${PB}[PB] + ${DEX}[DEX]`\n        + (level >= 2 ? ' + 2[ARCHERY]' : '')\n        + (options.weaponBonus ? ` + ${options.weaponBonus}[WEAPON]` : '')\n        + (options.ss ? ` - 5[SS]` : '')\n\n    const spellSlots = level >= 2 ? calculateSpellSlots(level, 'half') : undefined\n    const attacks = scale(level, { 1: 1, 5: 2 })\n\n    return {\n        id: uuid(),\n        name: name('Ranger', level),\n        ac: ac,\n        saveBonus: PB,\n        hp: hp(level, 10, CON),\n        hitDice: `${level}d10`,\n        conModifier: CON,\n        count: 1,\n        mode: 'player',\n        spellSlots: spellSlots,\n        actions: scaleArray<Action>(level, {\n            1: [\n                {\n                    id: uuid(),\n                    name: scale(level, { 1: \"Longbow\", 5: \"Longbow x2\" }),\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: attacks,\n                    target: 'enemy with least HP',\n                    toHit: toHit,\n                    dpr: `1d8 + ${DEX}[DEX]`\n                        + (level >= 2 ? ' + 1d6[HM]' : '')\n                        + (options.weaponBonus ? ` + ${options.weaponBonus}[WEAPON]` : '')\n                        + (options.ss ? ' + 10[SS]' : ''),\n                },\n            ],\n            2: [\n                {\n                    id: uuid(),\n                    type: 'template',\n                    condition: 'not used yet',\n                    templateOptions: { templateName: \"Hunter's Mark\", target: 'enemy with least HP' },\n                },\n            ],\n            3: [\n                {\n                    id: uuid(),\n                    name: 'Colossus Slayer',\n                    actionSlot: ActionSlots['Other 1'],\n                    type: 'buff',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: 1,\n                    target: 'self',\n                    buff: {\n                        displayName: 'Colossus Slayer',\n                        duration: 'until next attack made',\n                        damage: '1d8',\n                    },\n                },\n            ],\n        }),\n    }\n}\n\nfunction rogue(level: number, _options: z.infer<typeof ClassOptions.rogue>): Creature {\n    const CON = 2\n    const DEX = scale(level, { 1: 4, 4: 5, 10: 5 })\n    const PB = pb(level)\n    const ac = DEX + scale(level, { 1: 12, 5: 13, 11: 14 })\n    const sneakAttack = `${Math.ceil(level / 2)}d6`\n    const toHit = `${PB}[PB] + ${DEX}[DEX]`\n        + (options.weaponBonus ? ` + ${options.weaponBonus}[WEAPON]` : '')\n        + (options.ss ? ` - 5[SS]` : '')\n\n    return {\n        id: uuid(),\n        name: name('Rogue', level),\n        ac: ac,\n        saveBonus: PB,\n        hp: hp(level, 8, CON),\n        hitDice: `${level}d8`,\n        conModifier: CON,\n        count: 1,\n        mode: 'player',\n        actions: scaleArray<Action>(level, {\n            1: [\n                {\n                    id: uuid(),\n                    name: scale(level, { 1: \"Hand Crossbow\", 4: \"Hand Crossbow + Crossbow Expert\" }),\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: scale(level, { 1: 1, 4: 2 }),\n                    target: 'enemy with least HP',\n                    toHit: toHit,\n                    dpr: `1d6 + ${DEX}[DEX]`\n                        + (options.weaponBonus ? ` + ${options.weaponBonus}[WEAPON]` : '')\n                        + (options.ss ? ' + 10[SS]' : ''),\n                },\n                {\n                    id: uuid(),\n                    name: 'Sneak Attack',\n                    actionSlot: ActionSlots['Other 1'],\n                    type: 'buff',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: 1,\n                    target: 'self',\n                    buff: {\n                        displayName: 'Sneak Attack',\n                        duration: 'until next attack made',\n                        damage: sneakAttack\n                    }\n                },\n            ],\n            2: [\n                {\n                    id: uuid(),\n                    name: 'Cunning Action: Dash/Hide/Disengage',\n                    actionSlot: ActionSlots['Bonus Action'],\n                    type: 'buff',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: 1,\n                    target: 'self',\n                    buff: {\n                        displayName: 'Cunning Action',\n                        duration: 'until next attack made',\n                        condition: 'Attacks with Advantage',\n                    },\n                },\n            ],\n            5: [\n                {\n                    id: uuid(),\n                    name: 'Uncanny Dodge',\n                    actionSlot: ActionSlots['Other 2'],\n                    type: 'buff',\n                    target: 'self',\n                    targets: 1,\n                    freq: 'at will',\n                    condition: 'default',\n                    buff: {\n                        displayName: 'Uncanny Dodge',\n                        duration: 'until next attack taken',\n                        damageTakenMultiplier: 0.5,\n                    },\n                }\n            ],\n        }),\n    }\n}\n\nfunction sorcerer(level: number, _options: z.infer<typeof ClassOptions.sorcerer>): Creature {\n    const CON = 2\n    const DEX = 2\n    const CHA = scale(level, { 1: 4, 4: 5, 8: 5 })\n    const PB = pb(level)\n    const ac = 13 + DEX\n    const toHit = PB + CHA\n    const DC = 8 + PB + CHA\n\n    const spellSlots = calculateSpellSlots(level, 'full')\n\n    // Build class resources\n    const classResources: Record<string, number> = {}\n\n    // Sorcery Points (gained at level 2)\n    if (level >= 2) {\n        classResources['Sorcery Points'] = level\n    }\n\n    return {\n        id: uuid(),\n        name: name('Sorcerer', level),\n        ac: ac,\n        saveBonus: PB,\n        hp: hp(level, 6, CON),\n        hitDice: `${level}d6`,\n        conModifier: CON,\n        count: 1,\n        mode: 'player',\n        spellSlots: spellSlots,\n        classResources: Object.keys(classResources).length > 0 ? classResources : undefined,\n        actions: scaleArray<Action>(level, {\n            1: [\n                {\n                    id: uuid(),\n                    name: 'Fire Bolt',\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: 1,\n                    target: 'enemy with least HP',\n                    toHit: toHit,\n                    dpr: `${cantrip(level)}d10`,\n                },\n            ],\n            3: [\n                {\n                    id: uuid(),\n                    name: 'Quickened Fireball',\n                    actionSlot: ActionSlots['Bonus Action'],\n                    type: 'atk',\n                    freq: 'at will',\n                    cost: [\n                        { type: 'Discrete', resourceType: 'SpellSlot', resourceVal: 'level_3', amount: 1 },\n                        { type: 'Discrete', resourceType: 'ClassResource', resourceVal: 'Sorcery Points', amount: 2 }\n                    ],\n                    condition: 'is available',\n                    targets: 2,\n                    target: 'enemy with least HP',\n                    useSaves: true,\n                    halfOnSave: true,\n                    toHit: DC,\n                    dpr: '8d6',\n                },\n            ],\n        }),\n    }\n}\n\nfunction warlock(level: number, _options: z.infer<typeof ClassOptions.warlock>): Creature {\n    const CON = 2\n    const DEX = 2\n    const CHA = scale(level, { 1: 4, 4: 5, 8: 5 })\n    const PB = pb(level)\n    const ac = 13 + DEX\n    const DC = 8 + PB + CHA\n    const toHit = PB + CHA\n\n    const spellSlots = calculateSpellSlots(level, 'pact')\n\n    // Build class resources\n    const classResources: Record<string, number> = {}\n\n    // Mystic Arcanum\n    if (level >= 11) classResources['Mystic Arcanum (6th)'] = 1\n    if (level >= 13) classResources['Mystic Arcanum (7th)'] = 1\n    if (level >= 15) classResources['Mystic Arcanum (8th)'] = 1\n    if (level >= 17) classResources['Mystic Arcanum (9th)'] = 1\n\n    return {\n        id: uuid(),\n        name: name('Warlock', level),\n        ac: ac,\n        saveBonus: PB,\n        hp: hp(level, 8, CON),\n        hitDice: `${level}d8`,\n        conModifier: CON,\n        count: 1,\n        mode: 'player',\n        spellSlots: spellSlots,\n        classResources: Object.keys(classResources).length > 0 ? classResources : undefined,\n        actions: scaleArray<Action>(level, {\n            1: [\n                {\n                    id: uuid(),\n                    name: 'Eldritch Blast + Hex',\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: cantrip(level),\n                    target: 'enemy with least HP',\n                    toHit: toHit,\n                    dpr: `1d10 + 1d6[HEX]`\n                        + (level >= 2 ? ` + ${CHA}[AB]` : ''),\n                },\n                {\n                    id: uuid(),\n                    type: 'template',\n                    condition: 'is available',\n                    templateOptions: {\n                        templateName: 'Armor of Agathys',\n                        amount: (5 * Math.ceil(level / 2)).toString()\n                    },\n                },\n            ],\n            5: [\n                {\n                    id: uuid(),\n                    type: 'template',\n                    condition: 'not used yet',\n                    templateOptions: { templateName: 'Hypnotic Pattern', saveDC: DC, target: 'enemy with highest DPR' },\n                },\n            ],\n        }),\n    }\n}\n\nfunction wizard(level: number, _options: z.infer<typeof ClassOptions.wizard>): Creature {\n    const CON = 2\n    const DEX = 2\n    const INT = scale(level, { 1: 4, 4: 5, 8: 5 })\n    const PB = pb(level)\n    const ac = 13 + DEX\n    const toHit = PB + INT\n    const DC = 8 + PB + INT\n\n    const spellSlots = calculateSpellSlots(level, 'full')\n\n    // Class resources\n    const classResources: Record<string, number> = {\n        'Arcane Recovery': 1,\n    }\n\n    if (level >= 14) classResources['Overchannel'] = 1\n\n    return {\n        id: uuid(),\n        name: name('Wizard', level),\n        ac: ac,\n        saveBonus: PB,\n        intSaveBonus: PB + INT,\n        wisSaveBonus: PB + scale(level, { 1: 1, 8: 2, 12: 3 }),\n        hp: hp(level, 6, CON),\n        hitDice: `${level}d6`,\n        conModifier: CON,\n        count: 1,\n        mode: 'player',\n        spellSlots: spellSlots,\n        classResources: Object.keys(classResources).length > 0 ? classResources : undefined,\n        triggers: [\n            {\n                id: uuid(),\n                condition: 'on being attacked',\n                cost: ActionSlots.Reaction,\n                action: {\n                    id: uuid(),\n                    type: 'template',\n                    freq: { reset: 'lr', uses: Math.ceil(level / 2) },\n                    condition: scale(level, { 1: 'is under half HP', 8: 'default' }),\n                    templateOptions: { templateName: 'Shield' },\n                }\n            }\n        ],\n        actions: scaleArray<Action>(level, {\n            1: [\n                {\n                    id: uuid(),\n                    name: 'Fire Bolt',\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    freq: 'at will',\n                    condition: 'default',\n                    targets: 1,\n                    target: 'enemy with least HP',\n                    toHit: toHit,\n                    dpr: `${cantrip(level)}d10` + (level >= 10 ? ` + ${INT}[Empowered]` : ''),\n                },\n                {\n                    id: uuid(),\n                    type: 'template',\n                    freq: { reset: 'lr', uses: 1 },\n                    condition: 'not used yet',\n                    templateOptions: { templateName: 'Mage Armour' },\n                },\n            ],\n            3: [\n                {\n                    id: uuid(),\n                    name: 'Magic Missile',\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    freq: { reset: 'lr', uses: scale(level, { 3: 2, 5: 3, 7: 4, 9: 5 }) },\n                    condition: 'default',\n                    targets: 3,\n                    target: 'enemy with least HP',\n                    toHit: 100,\n                    dpr: '1d4+1',\n                },\n            ],\n            5: [\n                {\n                    id: uuid(),\n                    name: 'Fireball',\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    freq: { reset: 'lr', uses: scale(level, { 5: 2, 9: 3, 13: 4, 17: 5 }) },\n                    condition: 'is available',\n                    targets: scale(level, { 5: 2, 11: 3 }),\n                    target: 'enemy with least HP',\n                    useSaves: true,\n                    halfOnSave: true,\n                    toHit: DC,\n                    dpr: '8d6' + (level >= 10 ? ` + ${INT}[Empowered]` : ''),\n                },\n                {\n                    id: uuid(),\n                    type: 'template',\n                    freq: { reset: 'lr', uses: scale(level, { 5: 1, 9: 2, 13: 3 }) },\n                    condition: 'not used yet',\n                    templateOptions: { templateName: 'Hypnotic Pattern', saveDC: DC, target: 'enemy with highest DPR' },\n                },\n            ],\n            14: [\n                {\n                    id: uuid(),\n                    name: 'Overchannel (Fireball)',\n                    actionSlot: ActionSlots.Action,\n                    type: 'atk',\n                    freq: { reset: 'lr', uses: 1 },\n                    condition: 'is available',\n                    targets: 3,\n                    target: 'enemy with least HP',\n                    cost: [\n                        { type: 'Discrete', resourceType: 'ClassResource', resourceVal: 'Overchannel', amount: 1 }\n                    ],\n                    useSaves: true,\n                    halfOnSave: true,\n                    toHit: DC,\n                    dpr: `48 + ${INT}`,\n                },\n            ],\n        }),\n    }\n}\n\nexport const PlayerTemplates = {\n    artificer,\n    barbarian,\n    bard,\n    cleric,\n    druid,\n    fighter,\n    monk,\n    paladin,\n    ranger,\n    rogue,\n    sorcerer,\n    warlock,\n    wizard,\n} as const\n\n\n/*  UTILS   */\n\nfunction scale<T>(currentLevel: number, levelScale: { [minLevel: number]: T }): T {\n    const keys = Object.keys(levelScale).map(Number);\n    const applicableLevels = keys.filter(scaleLevel => (scaleLevel <= currentLevel));\n\n    if (applicableLevels.length === 0) {\n        // If currentLevel is below all defined minLevels, use the smallest minLevel.\n        // Assumes levelScale is not empty itself.\n        const minLevel = Math.min(...keys);\n        return levelScale[minLevel];\n    }\n\n    const effectiveLevel = applicableLevels.reduce((a, b) => Math.max(a, b));\n    return levelScale[effectiveLevel];\n}\n\nfunction scaleArray<T>(currentLevel: number, minLevelScale: { [minLevel: number]: T[] }): T[] {\n    return [\n        ...Object.keys(minLevelScale)\n            .map(Number)\n            .filter(level => (level <= currentLevel))\n            .flatMap(level => minLevelScale[level])\n            .reverse(),\n    ]\n}\n\nconst cantrip = (level: number) => scale(level, { 1: 1, 5: 2, 11: 3, 17: 4 })\n\nfunction hp(level: number, dieSize: number, con: number) {\n    return dieSize + con + (level - 1) * (Math.floor(dieSize / 2) + 1 + con)\n}\n\nfunction pb(level: number) {\n    return scale(level, { 1: 2, 5: 3, 9: 4, 13: 5, 17: 6 })\n}\n\nfunction name(className: string, level: number) {\n    return `Lv${level} ${className}`\n}","usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/data/examples/examples.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/data/examples/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/data/magicItems.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/data/monsters.ts","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":1,"message":"Do not use \"@ts-nocheck\" because it alters compilation errors.","line":1,"column":1,"nodeType":"Line","messageId":"tsDirectiveComment","endLine":1,"endColumn":83}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// @ts-nocheck - Temporarily excluded: legacy actions need migration to new schema\nimport { Creature } from \"../model/model\"\n\n/**\n * A small set of default monsters kept statically to support\n * templates and initial state without a network fetch.\n * The full library is now in public/data/monsters.json.\n */\nexport const DefaultMonsters: Creature[] = [\n    {\n        \"id\": \"670d1340-c829-4746-b112-d96960ebd650\",\n        \"mode\": \"monster\",\n        \"name\": \"Bandit\",\n        \"type\": \"humanoid\",\n        \"src\": \"MM p.343\",\n        \"cr\": \"1/8\",\n        \"hp\": 11,\n        \"ac\": 12,\n        \"actions\": [\n            {\n                \"id\": \"932121f1-a8ab-4ad1-9c3a-3de0423ff70b\",\n                \"name\": \"Scimitar\",\n                \"type\": \"atk\",\n                \"actionSlot\": 0,\n                \"freq\": \"at will\",\n                \"condition\": \"default\",\n                \"dpr\": \"1d6 + 1\",\n                \"toHit\": 3,\n                \"target\": \"enemy with most HP\",\n                \"targets\": 1\n            },\n            {\n                \"id\": \"06e35845-60e7-4569-90de-3b57e1c6e1c4\",\n                \"name\": \"Light Crossbow\",\n                \"type\": \"atk\",\n                \"actionSlot\": 0,\n                \"freq\": \"at will\",\n                \"condition\": \"default\",\n                \"dpr\": \"1d8 + 1\",\n                \"toHit\": 3,\n                \"target\": \"enemy with most HP\",\n                \"targets\": 1\n            }\n        ],\n        \"count\": 1,\n        \"saveBonus\": 0.0625\n    },\n    {\n        \"id\": \"5ce452a5-0310-4520-9b89-7438c75567e7\",\n        \"mode\": \"monster\",\n        \"name\": \"Dire Wolf\",\n        \"type\": \"beast\",\n        \"src\": \"MM p.321\",\n        \"cr\": \"1\",\n        \"hp\": 37,\n        \"ac\": 14,\n        \"actions\": [\n            {\n                \"id\": \"5ce452a5-0310-4520-9b89-7438c75567e7\",\n                \"name\": \"Bite\",\n                \"type\": \"atk\",\n                \"actionSlot\": 0,\n                \"freq\": \"at will\",\n                \"condition\": \"default\",\n                \"dpr\": \"2d6 + 3\",\n                \"toHit\": 5,\n                \"target\": \"enemy with most HP\",\n                \"targets\": 1\n            }\n        ],\n        \"count\": 1,\n        \"saveBonus\": 0.5\n    },\n    {\n        \"id\": \"e6f4d0c0-359f-4104-8155-0b2e361fc629\",\n        \"mode\": \"monster\",\n        \"name\": \"Giant Constrictor Snake\",\n        \"type\": \"beast\",\n        \"src\": \"MM p.324\",\n        \"cr\": \"2\",\n        \"hp\": 60,\n        \"ac\": 12,\n        \"actions\": [\n            {\n                \"id\": \"e6f4d0c0-359f-4104-8155-0b2e361fc629\",\n                \"name\": \"Bite\",\n                \"type\": \"atk\",\n                \"actionSlot\": 0,\n                \"freq\": \"at will\",\n                \"condition\": \"default\",\n                \"dpr\": \"2d6 + 4\",\n                \"toHit\": 6,\n                \"target\": \"enemy with most HP\",\n                \"targets\": 1\n            }\n        ],\n        \"count\": 1,\n        \"saveBonus\": 1\n    },\n    {\n        \"id\": \"b17786ef-1e13-48ad-9264-f5447c3c4f3b\",\n        \"mode\": \"monster\",\n        \"name\": \"Giant Scorpion\",\n        \"type\": \"beast\",\n        \"src\": \"MM p.327\",\n        \"cr\": \"3\",\n        \"hp\": 52,\n        \"ac\": 15,\n        \"actions\": [\n            {\n                \"id\": \"b17786ef-1e13-48ad-9264-f5447c3c4f3b\",\n                \"name\": \"Claw x 2 & Sting\",\n                \"type\": \"atk\",\n                \"actionSlot\": 0,\n                \"freq\": \"at will\",\n                \"condition\": \"default\",\n                \"dpr\": \"2d8 + 4 + 1d10 + 2 + 4d10\",\n                \"toHit\": 4,\n                \"target\": \"enemy with most HP\",\n                \"targets\": 1\n            }\n        ],\n        \"count\": 1,\n        \"saveBonus\": 1.5\n    },\n    {\n        \"id\": \"23c0a9dc-6a83-4689-8f50-b4995bf8d95a\",\n        \"mode\": \"monster\",\n        \"name\": \"Fire Elemental\",\n        \"type\": \"elemental\",\n        \"src\": \"MM p.125\",\n        \"cr\": \"5\",\n        \"hp\": 102,\n        \"ac\": 13,\n        \"actions\": [\n            {\n                \"id\": \"23c0a9dc-6a83-4689-8f50-b4995bf8d95a\",\n                \"name\": \"Touch x 2\",\n                \"type\": \"atk\",\n                \"actionSlot\": 0,\n                \"freq\": \"at will\",\n                \"condition\": \"default\",\n                \"dpr\": \"2d6 + 3\",\n                \"toHit\": 6,\n                \"target\": \"enemy with most HP\",\n                \"targets\": 2\n            }\n        ],\n        \"count\": 1,\n        \"saveBonus\": 2.5\n    }\n]\n\nexport function getMonster(name: string): Creature | undefined {\n    return DefaultMonsters.find(monster => (monster.name === name))\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/hooks/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/hooks/useCombatPlayback.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/hooks/useSkylineAnalysis.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/classOptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/creature-partial.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/dice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/enums.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/events.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/fileLogger.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/fileLogger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/import/5etools-action-parser.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/import/5etools-action-parser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/import/5etools-mapper.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/import/5etools-mapper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/import/5etools-schema.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/import/5etools-schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/import/utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/import/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/loading.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/logFormatter.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/logFormatter.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'names' is defined but never used.","line":90,"column":36,"nodeType":null,"messageId":"unusedVar","endLine":90,"endColumn":41,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/model.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/replayParser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/replayTypes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/semiPersistentContext.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'newValue' is defined but never used.","line":5,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/simulation.ts","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":1,"message":"Do not use \"@ts-nocheck\" because it alters compilation errors.","line":1,"column":1,"nodeType":"Line","messageId":"tsDirectiveComment","endLine":1,"endColumn":66}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is defined but never used.","line":445,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":445,"endColumn":17,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// @ts-nocheck - Legacy simulation file, replaced by WASM backend\nimport { getFinalAction } from \"../data/actions\"\nimport { EvaluationOptions, evaluateDiceFormula } from \"./dice\"\nimport { ActionSlots, ActionType, CreatureCondition, CreatureConditionList } from \"./enums\"\nimport { Action, AtkAction, Buff, BuffAction, Combattant, Creature, CreatureState, DebuffAction, DiceFormula, Encounter, EncounterResult, EncounterStats, FinalAction, HealAction, Round, SimulationResult } from \"./model\"\nimport { clone, range } from \"./utils\"\nimport { v4 as uuid } from 'uuid'\n\n// Used to update a creature's resources between encounters\nfunction getRemainingUses(creature: Creature, rest: 'none' | 'short rest' | 'long rest', oldValue?: Map<string, number>) {\n    const result = new Map<string, number>()\n\n    creature.actions.forEach(action => {\n        if (action.freq === \"at will\") return\n\n        else if ((action.freq === \"1/fight\")) result.set(action.id, ((rest === \"long rest\") || (rest === \"short rest\")) ? 1 : (oldValue?.get(action.id) || 0))\n\n        else if ((action.freq === \"1/day\")) result.set(action.id, (rest === \"long rest\") ? 1 : (oldValue?.get(action.id) || 0))\n\n        else if (action.freq.reset === 'recharge') result.set(action.id, 1)\n\n        else if (action.freq.reset === 'lr') result.set(action.id, (rest === 'long rest') ? action.freq.uses : (oldValue?.get(action.id) || 0))\n\n        else if (action.freq.reset === 'sr') result.set(action.id, ((rest === \"long rest\") || (rest === \"short rest\")) ? action.freq.uses : (oldValue?.get(action.id) || 0))\n    })\n\n    return result\n}\n\n// Used to generate monsters, never players\nexport function creatureToCombattant(creature: Creature) {\n    const creatureState: CreatureState = {\n        buffs: new Map(),\n        currentHP: creature.hp,\n        resources: { current: {}, max: {} },  // Will be populated by WASM backend\n        upcomingBuffs: new Map(),\n        usedActions: new Set(),\n    }\n\n    const result: Combattant = {\n        id: uuid(),\n        creature: clone(creature),\n        initialState: creatureState,\n        finalState: clone(creatureState),\n        actions: [],\n    }\n\n    return result\n}\n\n// Creates a copy of the combattant that can be used on the next round\nfunction iterateCombattant(combattant: Combattant, luck: number) {\n    const newInitialState: CreatureState = clone(combattant.finalState)\n    newInitialState.buffs = new Map()\n    newInitialState.upcomingBuffs = new Map()\n\n    // Handle buffs\n    combattant.finalState.buffs.forEach((buff, name) => {\n        if (buff.duration === 'entire encounter') newInitialState.buffs.set(name, clone(buff))\n\n        if (buff.duration === 'repeat the save each round') {\n            const emptyState: CreatureState = {\n                buffs: new Map(),\n                currentHP: 0,\n                remainingUses: new Map(),\n                upcomingBuffs: new Map(),\n                usedActions: new Set()\n            }\n\n            // Create a mock attacker - the attacker's stats don't matter to a repeated saving throw.\n            const fakeAttacker: Combattant = {\n                actions: [],\n                creature: combattant.creature,\n                id: '',\n                initialState: emptyState,\n                finalState: emptyState,\n            }\n\n            // Calculate new magnitude & apply it\n            const magnitude = (buff.magnitude || 1) * calculateChanceToFail(fakeAttacker, combattant, buff.dc || 10, luck)\n            newInitialState.buffs.set(name, { ...clone(buff), magnitude })\n        }\n    })\n    combattant.finalState.upcomingBuffs.forEach((buff, name) => {\n        newInitialState.buffs.set(name, clone(buff))\n    })\n\n    // Handle recharge abilities\n    combattant.creature.actions.forEach(action => {\n        if (typeof action.freq === 'string') return\n        if (action.freq.reset !== 'recharge') return\n\n        const increment = 1 / action.freq.cooldownRounds\n\n        let remainingUses = newInitialState.remainingUses.get(action.id) || 0\n        remainingUses = Math.min(1, remainingUses + increment)\n        newInitialState.remainingUses.set(action.id, remainingUses)\n    })\n\n    const result: Combattant = {\n        id: combattant.id,\n        creature: combattant.creature,\n        initialState: newInitialState,\n        finalState: clone(newInitialState),\n        actions: [],\n    }\n\n    return result\n}\n\n// Checks for remaining uses\nfunction isUsable(combattant: Combattant, action: FinalAction) {\n    // Can only trigger 'on kill' effects once per turn\n    if (action.actionSlot === ActionSlots[\"When reducing an enemy to 0 HP\"]) {\n        if (combattant.actions.find(actionTaken => actionTaken.action.id === action.id)) return false\n    }\n\n    if (action.freq === 'at will') return true\n\n    const remainingUsesMap = combattant.finalState.remainingUses\n\n    const remainingUses = remainingUsesMap.get(action.id)\n\n    return (remainingUses !== undefined) && (remainingUses >= 1)\n}\n\n// Checks action.condition\nfunction matchCondition(combattant: Combattant, action: Action, allies: Combattant[], enemies: Combattant[]) {\n    if (action.condition === 'not used yet') return !combattant.initialState.usedActions.has(action.id)\n    if (action.condition === 'has no THP') return ((combattant.initialState.tempHP === undefined) || (combattant.initialState.tempHP === 0))\n    if (action.condition === 'is under half HP') return (combattant.finalState.currentHP * 2 < combattant.creature.hp)\n    if (action.condition === 'ally at 0 HP') return (!!allies.find(ally => (ally.finalState.currentHP === 0)))\n    if (action.condition === 'ally under half HP') return !!allies.find(ally => ((ally.initialState.currentHP > 0) && (ally.finalState.currentHP <= ally.creature.hp / 2)))\n    if (action.condition === 'enemy count one') return (enemies.filter(enemy => enemy.initialState.currentHP > 0).length == 1)\n    if (action.condition === 'enemy count multiple') return (enemies.filter(enemy => enemy.initialState.currentHP > 0).length >= 2)\n\n    // Default or \"is use available\"\n    return true\n}\n\n// Determines which actions a creature will use. Does not actually perform the actions.\n// The exception is heals, to avoid situations where multiple healers all heal the same creature despite having the \"ally at 0 hp\" condition\nfunction getActions(combattant: Combattant, allies: Combattant[], enemies: Combattant[], handleHeals: boolean, luck: number, stats: Map<string, EncounterStats>): FinalAction[] {\n    const actionSlots = new Set()\n    combattant.creature.actions\n        .map(getFinalAction)\n        .filter(action => (action.actionSlot >= 0))\n        .forEach(action => actionSlots.add(action.actionSlot))\n\n    const result = Array.from(actionSlots).flatMap(actionSlot => {\n        const actions = combattant.creature.actions\n            .map(getFinalAction)\n            .filter(action => (action.actionSlot === actionSlot))\n            .filter(action => isUsable(combattant, action))\n            .filter(action => matchCondition(combattant, action, allies, enemies))\n\n        if (!actions.length) return []\n        return [actions[0]]\n    })\n\n    // Handle heals now, so the next creature doesn't have to waste actions healing the same target\n    if (handleHeals) result.forEach(action => {\n        if (action.type !== 'heal') return\n\n        const combattantAction: Combattant['actions'][0] = {\n            action,\n            targets: new Map(),\n        }\n        combattant.actions.push(combattantAction)\n\n        let targetCount = action.targets\n        const targettableAllies = new Set(allies.filter(combattant => {\n            // Monsters cannot be healed if they're at 0 hit points\n            if (combattant.creature.cr === undefined) return true\n            return (combattant.initialState.currentHP !== 0)\n        }))\n\n        // THP cannot revive a creature\n        if (action.tempHP) {\n            targettableAllies.forEach(ally => {\n                if (ally.initialState.currentHP === 0) targettableAllies.delete(ally)\n            })\n        }\n\n        while ((targettableAllies.size > 0) && (targetCount > 0)) {\n            targetCount--\n            const target = getNextTarget(combattant, action, Array.from(targettableAllies), [], luck, stats)\n\n            if (!target) break;\n\n            targettableAllies.delete(target)\n            combattantAction.targets.set(target.id, 1)\n            useHealAction(combattant, action, target, luck, stats)\n        }\n    })\n\n    return result\n}\n\n// Actions can target multiple creatures. This finds the next valid target for that action.\nfunction getNextTarget(combattant: Combattant, action: FinalAction, allies: Combattant[], enemies: Combattant[], luck: number, stats: Map<string, EncounterStats>): Combattant | undefined {\n    const getHighestDPR = (group: Combattant[]) => {\n        const getDPR = (combattant: Combattant) => {\n            const dmgBonus = getBuffs(combattant, b => b.damage, 'add', luck)\n            const dmgMult = getBuffs(combattant, b => b.damageMultiplier, 'mult', luck)\n\n            return getActions(combattant, allies, enemies, false, luck, stats)\n                .map(action => {\n                    if (action.type !== \"atk\") return 0\n                    return (evaluateDiceFormula(action.dpr, luck) + dmgBonus) * action.targets * dmgMult\n                })\n                .reduce((dpr1, dpr2) => (dpr1 + dpr2), 0)\n        }\n\n        return group.reduce((creature1, creature2) => {\n            const creature1DPR = getDPR(creature1)\n            const creature2DPR = getDPR(creature2)\n\n            return (creature1DPR > creature2DPR) ? creature1 : creature2\n        })\n    }\n\n    let filteredEnemies = enemies\n    if (action.type === \"debuff\") {\n        filteredEnemies = enemies.filter(a1 => !a1.finalState.buffs.get(action.id))\n    }\n\n    if (action.target.startsWith('ally') && (allies.length === 0)) return undefined\n    if (action.target.startsWith('enemy') && (filteredEnemies.length === 0)) return undefined\n\n    if (action.target === 'self') return combattant\n    if (action.target === \"ally with the highest AC\") return allies.reduce((a1, a2) => (a1.creature.ac > a2.creature.ac) ? a1 : a2)\n    if (action.target === \"ally with the lowest AC\") return allies.reduce((a1, a2) => (a1.creature.ac < a2.creature.ac) ? a1 : a2)\n    if (action.target === \"ally with the most HP\") return allies.reduce((a1, a2) => (a1.finalState.currentHP > a2.finalState.currentHP) ? a1 : a2)\n    if (action.target === \"ally with the least HP\") return allies.reduce((a1, a2) => (a1.finalState.currentHP < a2.finalState.currentHP) ? a1 : a2)\n    if (action.target === \"ally with the highest DPR\") return getHighestDPR(allies)\n    if (action.target === \"enemy with highest AC\") return filteredEnemies.reduce((a1, a2) => (a1.creature.ac > a2.creature.ac) ? a1 : a2)\n    if (action.target === \"enemy with lowest AC\") return filteredEnemies.reduce((a1, a2) => (a1.creature.ac < a2.creature.ac) ? a1 : a2)\n    if (action.target === \"enemy with most HP\") return filteredEnemies.reduce((a1, a2) => (a1.finalState.currentHP + (a1.finalState.tempHP || 0) > a2.finalState.currentHP + (a2.finalState.tempHP || 0)) ? a1 : a2)\n    if (action.target === \"enemy with least HP\") return filteredEnemies.reduce((a1, a2) => (a1.finalState.currentHP + (a1.finalState.tempHP || 0) < a2.finalState.currentHP + (a2.finalState.tempHP || 0)) ? a1 : a2)\n    /* if (action.target === \"enemy with highest DPR\") */ return getHighestDPR(filteredEnemies)\n}\n\n// Calculates which actions each creature is going to take, and saves them in combattant.actions\n// Also updates the remaining uses for each action.\nfunction generateActions(allies: Combattant[], enemies: Combattant[], luck: number, stats: Map<string, EncounterStats>) {\n    allies.forEach(ally => {\n        if (ally.initialState.currentHP <= 0) return\n\n        ally.actions.push(...getActions(ally, allies, enemies, true, luck, stats)\n            .map(action => ({\n                action: action,\n                targets: new Map(),\n            })))\n\n        // Save uses for limited-use actions\n        ally.actions.filter(({ action }) => (action.freq !== 'at will'))\n            .forEach(({ action }) => {\n                let remainingUses = ally.initialState.remainingUses.get(action.id) || 0\n                remainingUses = Math.max(0, remainingUses - 1)\n                ally.finalState.remainingUses.set(action.id, remainingUses)\n\n                ally.finalState.usedActions.add(action.id)\n            })\n    })\n}\n\n// The callback will be called for each valid target, sequentially\nfunction getTargets(combattant: Combattant, action: FinalAction, allies: Combattant[], enemies: Combattant[], luck: number, stats: Map<string, EncounterStats>, callback: (target: Combattant) => void) {\n    const isAttack = (action.type === 'atk') && !action.useSaves\n\n    let lastTarget: Combattant | undefined = undefined\n    let targetsCount = action.targets\n    const targettableAllies = new Set(allies)\n    const targettableEnemies = new Set(enemies.filter(enemy => (enemy.finalState.currentHP > 0)))\n    while ((targetsCount > 0) && (targettableAllies.size > 0) && (targettableEnemies.size > 0)) {\n        targetsCount--\n\n        // If it's an attack, continue attacking the same target until it's dead\n        const target: Combattant | undefined = (isAttack && lastTarget) ||\n            getNextTarget(combattant, action, Array.from(targettableAllies), Array.from(targettableEnemies), luck, stats)\n\n        if (target) {\n            lastTarget = target\n\n            callback(target)\n\n            let removeTarget = true\n            if ((action.type === 'atk') && !action.useSaves) {\n                removeTarget = (target.finalState.currentHP === 0)\n            }\n            if (removeTarget) {\n                targettableAllies.delete(target)\n                targettableEnemies.delete(target)\n                lastTarget = undefined\n            }\n        }\n    }\n}\n\n// Executes the actions saved in combattant.actions by the generateActions() function\n// Executes only the selected action type, so the different action types can be executed in the right order\nfunction handleActions(allies: Combattant[], enemies: Combattant[], actionTypes: ActionType[], luck: number, stats: Map<string, EncounterStats>) {\n    allies.forEach(combattant => {\n        combattant.actions\n            .filter(({ action }) => (action.actionSlot >= 0))\n            .filter(({ action }) => (actionTypes.includes(action.type)))\n            .forEach((turn) => {\n                getTargets(combattant, turn.action, allies, enemies, luck, stats, (target) => {\n                    turn.targets.set(target.id, 1 + (turn.targets.get(target.id) || 0))\n\n                    if (turn.action.type === \"buff\") useBuffAction(combattant, turn.action, target, stats)\n                    if (turn.action.type === \"debuff\") useDebuffAction(combattant, turn.action, target, luck, stats)\n                    //if (turn.action.type === \"heal\") useHealAction(turn.action, target) // Already handled before, in generateActions\n                    if (turn.action.type === \"atk\") useAtkAction(combattant, turn.action, target, allies, enemies, luck, stats)\n                })\n            })\n    })\n}\n\n// This is called when an action with a negative/special action slot is triggered\nfunction triggerAction(combattant: Combattant, actionSlot: keyof typeof ActionSlots, allies: Combattant[], enemies: Combattant[], luck: number, stats: Map<string, EncounterStats>) {\n    combattant.creature.actions\n        .map(getFinalAction)\n        .forEach(action => {\n            if (action.actionSlot !== ActionSlots[actionSlot]) return\n            if (!isUsable(combattant, action)) return\n            if (!matchCondition(combattant, action, allies, enemies)) return\n\n            const targets: Map<string, number> = new Map()\n            combattant.actions.push({ action: action, targets: targets })\n\n            getTargets(combattant, action, allies, enemies, luck, stats, (target) => {\n                targets.set(target.id, 1 + (targets.get(target.id) || 0))\n\n                const ignoreIncapacitated = true\n                switch (action.type) {\n                    case \"buff\": return useBuffAction(combattant, action, target, stats, ignoreIncapacitated)\n                    case \"debuff\": return useDebuffAction(combattant, action, target, luck, stats, ignoreIncapacitated)\n                    case \"heal\": return useHealAction(combattant, action, target, luck, stats, ignoreIncapacitated)\n                    case \"atk\": return useAtkAction(combattant, action, target, allies, enemies, luck, stats, ignoreIncapacitated)\n                }\n            })\n\n            // Save uses for limited-use actions\n            if (action.freq != 'at will') {\n                let remainingUses = combattant.finalState.remainingUses.get(action.id) || 0\n                remainingUses = Math.max(0, remainingUses - 1)\n                combattant.finalState.remainingUses.set(action.id, remainingUses)\n\n                combattant.finalState.usedActions.add(action.id)\n            }\n        })\n}\n\nfunction applyBuff(target: Combattant, buffName: string, newBuff: Buff, comparisonMode: 'min' | 'max') {\n    const existingBuff = target.finalState.buffs.get(buffName)\n\n    if (!existingBuff) {\n        target.finalState.buffs.set(buffName, newBuff)\n        return\n    }\n    const result = mergeBuff(existingBuff, newBuff, comparisonMode)\n    target.finalState.buffs.set(buffName, result)\n}\n\n// In 5e, only the stronger buff is applies\n// This figures out which buff is the strongest, and applies that one.\nfunction mergeBuff(buff1: Buff, buff2: Buff, comparisonMode: 'min' | 'max'): Buff {\n    function comparator(a: DiceFormula | undefined, b: DiceFormula | undefined) {\n        if (a === undefined) return b\n        if (b === undefined) return a\n\n        const evalA = evaluateDiceFormula(a, 0.5)\n        const evalB = evaluateDiceFormula(b, 0.5)\n\n        const min = (evalA < evalB) ? a : b\n        const max = (evalA < evalB) ? b : a\n\n        return (comparisonMode === 'min') ? min : max\n    }\n\n    function numberComparator(a: number | undefined, b: number | undefined) {\n        if (a === undefined) return b\n        if (b === undefined) return a\n\n        return (comparisonMode === 'min') ? Math.min(a, b) : Math.max(a, b)\n    }\n\n    const result: Buff = {\n        duration: buff1.duration,\n        displayName: buff1.displayName,\n\n        ac: comparator(buff1.ac, buff2.ac),\n        damage: comparator(buff1.damage, buff2.damage),\n        damageReduction: comparator(buff1.damageReduction, buff2.damageReduction),\n        toHit: comparator(buff1.toHit, buff2.toHit),\n        damageMultiplier: numberComparator(buff1.damageMultiplier, buff2.damageMultiplier),\n        damageTakenMultiplier: numberComparator(buff1.damageTakenMultiplier, buff2.damageTakenMultiplier),\n        dc: comparator(buff1.dc, buff2.dc),\n        save: comparator(buff1.save, buff2.save),\n        condition: buff1.condition || buff2.condition,\n\n        magnitude: atLeastOneChance([\n            buff1.magnitude !== undefined ? buff1.magnitude : 1,\n            buff2.magnitude !== undefined ? buff2.magnitude : 1,\n        ]),\n    }\n    return result\n}\n\nfunction getStats(statsMap: Map<string, EncounterStats>, combattant: Combattant) {\n    const id = combattant.id // Using the combattant's id, instead of the creature's id, since the team can have multiples of a creature\n    if (!statsMap.has(id)) {\n        statsMap.set(id, {\n            buffsReceived: 0,\n            charactersBuffed: 0,\n            charactersDebuffed: 0,\n            damageDealt: 0,\n            damageTaken: 0,\n            debuffsReceived: 0,\n            healGiven: 0,\n            healReceived: 0,\n            timesUnconscious: 0,\n        })\n    }\n    return statsMap.get(id)!\n}\n\nfunction useBuffAction(buffer: Combattant, action: BuffAction, target: Combattant, stats: Map<string, EncounterStats>, ignoreIncapacitated?: boolean) {\n    const attackerConditions = getConditions(buffer)\n    const chanceToBeIncapacitated = ignoreIncapacitated ? 0 : atLeastOneConditionChance(attackerConditions, ['Incapacitated', 'Paralyzed', 'Petrified', 'Stunned', 'Unconscious'])\n    applyBuff(target, action.id, { ...action.buff, magnitude: 1 - chanceToBeIncapacitated, displayName: action.name }, 'max')\n\n    if (buffer.id !== target.id) {\n        getStats(stats, buffer).charactersBuffed++\n        getStats(stats, target).buffsReceived++\n    }\n}\n\n// Sums up all of the buffs on a given combattant, taking into account the buff's magnitude\n// e.g. getBuffs(combattant, b => b.ac, 'add') will return the total of all of the buffs which alter a creature's AC\nfunction getBuffs(combattant: Combattant, getter: (buff: Buff) => DiceFormula | undefined, reducer: 'add' | 'mult', luck: number, options?: EvaluationOptions): number {\n    return Array.from(combattant.finalState.buffs)\n        .map(([_, buff]) => { // eslint-disable-line @typescript-eslint/no-unused-vars\n            const expr = getter(buff)\n\n            if (expr === undefined) return (reducer === 'add') ? 0 : 1\n\n            const value = evaluateDiceFormula(expr, luck, options)\n\n            const magnitude = (buff.magnitude === undefined) ? 1 : buff.magnitude\n\n            const valueWithMagnitude = (reducer === 'add') ?\n                (value * magnitude)\n                : (1 + (value - 1) * magnitude) // For multiplier-type buffs, what is multiplied is the distance from a multiplier of 1\n\n            return valueWithMagnitude\n        })\n        .reduce(\n            (a, b) => (reducer === 'add') ? (a + b) : (a * b),\n            (reducer === 'add') ? 0 : 1\n        )\n}\n\n// Returns the list of conditions affecting the creature, and the chance of those conditions being present\nfunction getConditions(combattant: Combattant) {\n    const result = new Map<CreatureCondition, number>()\n\n    CreatureConditionList.forEach(condition => result.set(condition, 0))\n\n    combattant.finalState.buffs.forEach((buff) => {\n        if (!buff.condition) return\n\n        const existingBuffChance = result.get(buff.condition) || 0\n        const magnitude = buff.magnitude === undefined ? 1 : buff.magnitude\n        const newBuffChance = existingBuffChance + (1 - existingBuffChance) * magnitude\n        result.set(buff.condition, newBuffChance)\n    })\n\n    return result\n}\n\n// Returns the chance that at least one of the events happens, given the probabilities of these events\nfunction atLeastOneChance(probabilities: number[]) {\n    let noneHappening = 1\n    probabilities.forEach(probability => {\n        noneHappening *= 1 - probability\n    })\n    return 1 - noneHappening\n}\n\nfunction atLeastOneConditionChance(conditionsMap: Map<CreatureCondition, number>, conditions: CreatureCondition[]) {\n    return atLeastOneChance(conditions.map(condition => conditionsMap.get(condition)!))\n}\n\n// Chance to fail against a saving throw\nfunction calculateChanceToFail(attacker: Combattant, target: Combattant, baseDC: DiceFormula, luck: number) {\n    const targetConditions = getConditions(target)\n\n    const chanceForAdvantage = atLeastOneConditionChance(targetConditions, ['Saves with Advantage'])\n    const chanceForDisadvantage = atLeastOneConditionChance(targetConditions, ['Save with Disadvantage', 'Attacks and saves with Disadvantage'])\n\n    const saveBonus = target.creature.saveBonus + getBuffs(target, b => b.save, 'add', 1 - luck)\n        + 4.5 * chanceForAdvantage\n        - 4.5 * chanceForDisadvantage\n    const saveDC = evaluateDiceFormula(baseDC, luck) + getBuffs(attacker, b => b.dc, 'add', luck)\n    const chanceToFail = 1 - Math.min(1, Math.max(0, (11 + saveBonus - (saveDC - 10)) / 20))\n\n    return chanceToFail\n}\n\n\n// Chance to hit with an attack\nfunction calculateHitChance(attacker: Combattant, target: Combattant, baseToHit: DiceFormula, luck: number) {\n    const toHit = evaluateDiceFormula(baseToHit, luck) + getBuffs(attacker, b => b.toHit, 'add', luck)\n    const ac = target.creature.ac + getBuffs(target, b => b.ac, 'add', 1 - luck)\n    const hitChance = Math.min(1, Math.max(0, (11 + toHit - (ac - 10)) / 20))\n\n    return hitChance\n}\n\nfunction accountForAdvantage(attacker: Combattant, target: Combattant, baseHitChance: number) {\n    const attackerConditions = getConditions(attacker)\n    const targetConditions = getConditions(target)\n\n    const chanceForAdvantage = atLeastOneChance([\n        atLeastOneConditionChance(targetConditions, ['Blinded', 'Paralyzed', 'Restrained', 'Stunned', 'Unconscious', 'Petrified', 'Is attacked with Advantage', 'Attacks and is attacked with Advantage']),\n        atLeastOneConditionChance(attackerConditions, ['Invisible', 'Attacks with Advantage', 'Attacks and is attacked with Advantage'])\n    ])\n    const advHitChance = baseHitChance + (1 - baseHitChance) * baseHitChance\n\n    const chanceForDisadvantage = atLeastOneChance([\n        atLeastOneConditionChance(targetConditions, ['Invisible', 'Is attacked with Disadvantage']),\n        atLeastOneConditionChance(attackerConditions, ['Blinded', 'Frightened', 'Poisoned', 'Restrained', 'Attacks with Disadvantage', 'Attacks and saves with Disadvantage'])\n    ])\n    const disHitChance = baseHitChance * baseHitChance\n\n    const chanceForStraightRoll = 1 - chanceForAdvantage - chanceForDisadvantage + chanceForAdvantage * chanceForDisadvantage\n\n    const hitChance = (chanceForStraightRoll * baseHitChance)\n        + (chanceForAdvantage * advHitChance)\n        + (chanceForDisadvantage * disHitChance)\n\n    return hitChance\n}\n\n\nfunction useDebuffAction(attacker: Combattant, action: DebuffAction, target: Combattant, luck: number, stats: Map<string, EncounterStats>, ignoreIncapacitated?: boolean) {\n    const attackerConditions = getConditions(attacker)\n    const chanceToBeIncapacitated = ignoreIncapacitated ? 0 : atLeastOneConditionChance(attackerConditions, ['Incapacitated', 'Paralyzed', 'Petrified', 'Stunned', 'Unconscious'])\n\n    const chanceToFail = (1 - chanceToBeIncapacitated) * calculateChanceToFail(attacker, target, action.saveDC, 1 - luck)\n\n    const buffClone: Buff = clone(action.buff)\n    if (buffClone.magnitude === undefined) buffClone.magnitude = 1\n    buffClone.magnitude *= chanceToFail\n    buffClone.displayName = action.name;\n\n    applyBuff(target, action.id, buffClone, 'min')\n\n    if (attacker.id !== target.id) {\n        getStats(stats, attacker).charactersDebuffed++\n        getStats(stats, target).debuffsReceived++\n    }\n}\n\nfunction useAtkAction(attacker: Combattant, action: AtkAction, target: Combattant, allies: Combattant[], enemies: Combattant[], luck: number, stats: Map<string, EncounterStats>, ignoreIncapacitated?: boolean) {\n    const attackerConditions = getConditions(attacker)\n    const chanceToBeIncapacitated = ignoreIncapacitated ? 0 : atLeastOneConditionChance(attackerConditions, ['Incapacitated', 'Paralyzed', 'Petrified', 'Stunned', 'Unconscious'])\n\n    const hitChance = (1 - chanceToBeIncapacitated) * (action.useSaves ?\n        calculateChanceToFail(attacker, target, action.toHit, luck)\n        : accountForAdvantage(attacker, target, calculateHitChance(attacker, target, action.toHit, luck)))\n\n    const critChance = (1 - chanceToBeIncapacitated)\n        * (action.useSaves ? 0 : accountForAdvantage(attacker, target, 0.05))\n\n    const targetConditions = getConditions(target)\n\n    const damageMultiplier = 1\n        * getBuffs(attacker, b => b.damageMultiplier, 'mult', luck)\n        * getBuffs(target, b => b.damageTakenMultiplier, 'mult', 1 - luck)\n        * (1 + targetConditions.get('Paralyzed')!)\n\n    const standardDamage = damageMultiplier * Math.max((\n        evaluateDiceFormula(action.dpr, luck, { doubleDice: false })\n        + getBuffs(attacker, b => b.damage, 'add', luck, { doubleDice: false })\n        - getBuffs(target, b => b.damageReduction, 'add', 1 - luck, { doubleDice: false })\n    ), 0)\n    const criticalDamage = damageMultiplier * Math.max((\n        evaluateDiceFormula(action.dpr, luck, { doubleDice: !action.useSaves })\n        + getBuffs(attacker, b => b.damage, 'add', luck, { doubleDice: !action.useSaves })\n        - getBuffs(target, b => b.damageReduction, 'add', 1 - luck, { doubleDice: false }) // negative cannot crit\n    ), 0)\n\n    /** TODO: update critChance when implementing features such as crit at 19 */\n    let actualDamage = standardDamage * Math.max(0, hitChance - critChance) + criticalDamage * critChance\n    if (action.useSaves && action.halfOnSave) {\n        actualDamage = standardDamage * hitChance + (standardDamage / 2) * (1 - hitChance)\n    }\n\n    // Apply damage to temporary hit points first\n    let remainingDamage = actualDamage\n    if (target.finalState.tempHP) {\n        target.finalState.tempHP = Math.min(target.finalState.tempHP, Math.max(0, target.finalState.tempHP - remainingDamage))\n        remainingDamage = Math.max(0, remainingDamage - target.finalState.tempHP)\n    }\n\n    // Apply damage to hit points\n    target.finalState.currentHP = Math.min(target.finalState.currentHP, Math.max(0, target.finalState.currentHP - remainingDamage))\n\n    Array.from(attacker.finalState.buffs).forEach(([name, buff]) => { if (buff.duration === 'until next attack made') attacker.finalState.buffs.delete(name) })\n    Array.from(target.finalState.buffs).forEach(([name, buff]) => { if (buff.duration === 'until next attack taken') target.finalState.buffs.delete(name) })\n\n    getStats(stats, attacker).damageDealt += actualDamage\n    getStats(stats, target).damageTaken += actualDamage\n\n    if (action.riderEffect) {\n        const buffMagnitude = hitChance * calculateChanceToFail(attacker, target, action.riderEffect.dc, 1 - luck)\n\n        let buffClone = clone(action.riderEffect.buff)\n        if (buffClone.magnitude === undefined) buffClone.magnitude = 1\n        buffClone.magnitude *= buffMagnitude\n\n        const existingBuff = target.finalState.upcomingBuffs.get(action.id)\n        if (existingBuff) {\n            buffClone = mergeBuff(existingBuff, buffClone, 'min')\n        }\n\n        target.finalState.upcomingBuffs.set(action.id, buffClone)\n\n        if (attacker.id !== target.id) {\n            getStats(stats, attacker).charactersDebuffed++\n            getStats(stats, target).debuffsReceived++\n        }\n    }\n\n    if (target.finalState.currentHP === 0) {\n        triggerAction(attacker, 'When reducing an enemy to 0 HP', allies, enemies, luck, stats)\n        triggerAction(target, 'When Reduced to 0 HP', enemies, allies, 1 - luck, stats)\n    }\n}\n\nfunction useHealAction(healer: Combattant, action: HealAction, target: Combattant, luck: number, stats: Map<string, EncounterStats>, ignoreIncapacitated?: boolean) {\n    const attackerConditions = getConditions(healer)\n    const chanceToBeIncapacitated = ignoreIncapacitated ? 0 : atLeastOneConditionChance(attackerConditions, ['Incapacitated', 'Paralyzed', 'Petrified', 'Stunned', 'Unconscious'])\n\n    const amount = (1 - chanceToBeIncapacitated) * evaluateDiceFormula(action.amount, luck)\n\n    if (action.tempHP) {\n        target.finalState.tempHP = Math.max(0, target.finalState.tempHP || 0, amount)\n    } else {\n        if ((target.finalState.currentHP === 0) && (amount > 0)) getStats(stats, target).timesUnconscious++\n        target.finalState.currentHP = Math.max(target.finalState.currentHP, Math.min(target.creature.hp, target.finalState.currentHP + amount))\n    }\n\n    getStats(stats, healer).healGiven += amount\n    getStats(stats, target).healReceived += amount\n}\n\n// The attackers & defenders must be clones here, they will both be mutated\nfunction runRound(team1: Combattant[], team2: Combattant[], luck: number, stats: Map<string, EncounterStats>, firstRound?: { team1Surprised: boolean, team2Surprised: boolean }): Round {\n    const round: Round = {\n        team1: team1.map(iterateCombattant),\n        team2: team2.map(iterateCombattant),\n    }\n\n    if (firstRound) {\n        round.team1.forEach(combattant => triggerAction(combattant, 'Before the Encounter Starts', round.team1, round.team2, luck, stats))\n        round.team2.forEach(combattant => triggerAction(combattant, 'Before the Encounter Starts', round.team2, round.team1, 1 - luck, stats))\n    }\n\n    if (!firstRound?.team1Surprised) generateActions(round.team1, round.team2, luck, stats)\n    if (!firstRound?.team2Surprised) generateActions(round.team2, round.team1, 1 - luck, stats)\n\n\n    // Heals are resolved as soon as the actions are declared, to avoid situations where multiple creatures needlessly waste actions healing the same target\n    // Then buffs/debuffs are resolved, so they can affect the attacks performed on that same round\n    handleActions(round.team1, round.team2, ['buff', 'debuff'], luck, stats)\n    handleActions(round.team2, round.team1, ['buff', 'debuff'], 1 - luck, stats)\n\n    // And finally, attacks\n    handleActions(round.team1, round.team2, ['atk'], luck, stats)\n    handleActions(round.team2, round.team1, ['atk'], 1 - luck, stats)\n\n    return round\n}\n\nfunction runEncounter(players: { creature: Creature, state: CreatureState }[], encounter: Encounter, luck: number): EncounterResult {\n    function createPlayer(creatureWithState: { creature: Creature, state: CreatureState }): Combattant {\n        return {\n            id: uuid(),\n            creature: clone(creatureWithState.creature),\n            actions: [],\n            initialState: clone(creatureWithState.state),\n            finalState: clone(creatureWithState.state),\n        }\n    }\n    function createMonsters(monster: Creature): Combattant[] {\n        return range(Math.round(monster.count)).map((i) => {\n            const combattant = creatureToCombattant(monster)\n            combattant.creature.name = (monster.count > 1) ? `${monster.name} ${i + 1}` : monster.name\n            return combattant\n        })\n    }\n\n    const maxPlayerarrival = players.map(player => player.creature.arrival || 1).reduce((a, b) => Math.max(a, b), 0)\n    const maxMonsterArrival = encounter.monsters.map(monster => monster.arrival || 1).reduce((a, b) => Math.max(a, b), 0)\n    const minimumRounds = Math.max(maxPlayerarrival, maxMonsterArrival) + 1\n\n    let team1 = players.filter(({ creature }) => (creature.arrival === undefined) || (creature.arrival <= 1)).map(createPlayer)\n    let team2 = encounter.monsters.filter(creature => (creature.arrival === undefined) || (creature.arrival <= 1)).flatMap(createMonsters)\n\n    let firstRound: { team1Surprised: boolean, team2Surprised: boolean } | undefined = {\n        team1Surprised: !!encounter.playersSurprised,\n        team2Surprised: !!encounter.monstersSurprised,\n    }\n    const rounds: Round[] = []\n    const stats = new Map<string, EncounterStats>()\n\n    const hasLivingCombattant = (team: Combattant[]) => !!team.find(combattant => (combattant.finalState.currentHP > 0))\n\n    do {\n        if (rounds.length > 1) {\n            const team1Arrivals = players.filter(({ creature }) => creature.arrival === rounds.length).map(createPlayer)\n            const team2Arrivals = encounter.monsters.filter(monster => monster.arrival === rounds.length).flatMap(createMonsters)\n            if (team1Arrivals.length) team1.push(...team1Arrivals)\n            if (team2Arrivals.length) team2.push(...team2Arrivals)\n        }\n\n        const round = runRound(team1, team2, luck, stats, firstRound)\n        rounds.push(round)\n\n        firstRound = undefined\n        team1 = round.team1\n        team2 = round.team2\n    } while ((rounds.length < minimumRounds) || (hasLivingCombattant(team1) && hasLivingCombattant(team2) && (rounds.length < 20)))\n\n    return { rounds, stats }\n}\n\nexport function runSimulation(players: Creature[], encounters: Encounter[], luck: number) {\n    const results: SimulationResult = []\n\n    let playersWithState = players.flatMap(player => range(Math.round(player.count))\n        .map<{ creature: Creature, state: CreatureState }>((i) => ({\n            creature: {\n                ...player,\n                name: (player.count > 1) ? `${player.name} ${i + 1}` : player.name\n            },\n            state: {\n                buffs: new Map<string, Buff>(),\n                upcomingBuffs: new Map<string, Buff>(),\n                currentHP: player.hp,\n                remainingUses: getRemainingUses(player, 'long rest'),\n                usedActions: new Set(),\n            },\n        }))\n    )\n\n    encounters.forEach((encounter, index) => {\n        const encounterResult = runEncounter(playersWithState, encounter, luck)\n        results.push(encounterResult)\n\n        const lastRound = encounterResult.rounds[encounterResult.rounds.length - 1]\n        const nextEncounter = encounters[index + 1]\n        playersWithState = lastRound.team1.map(({ creature, finalState }) => {\n            const state: CreatureState = {\n                currentHP: nextEncounter?.shortRest ? creature.hp : finalState.currentHP,\n                buffs: new Map(),\n                upcomingBuffs: new Map(),\n                remainingUses: getRemainingUses(creature, nextEncounter?.shortRest ? 'short rest' : 'none', finalState.remainingUses),\n                usedActions: new Set(),\n            }\n\n            return { creature, state }\n        })\n    })\n\n    return results\n}","usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/simulationContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/simulationStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/skylineTypes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/spellSlots.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/timeline.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/uiToggleState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/useSimulationWorker.logs.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/useSimulationWorker.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/useSimulationWorker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/model/utils.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/pages/_app.tsx","messages":[{"ruleId":"no-empty","severity":1,"message":"Empty block statement.","line":46,"column":8,"nodeType":"BlockStatement","messageId":"unexpected","endLine":47,"endColumn":4,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[1578,1581],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import '@/styles/globals.scss'\nimport type { AppProps } from 'next/app'\nimport { Crimson_Pro, Cinzel_Decorative } from 'next/font/google'\n\nconst crimsonPro = Crimson_Pro({\n  subsets: ['latin'],\n  weight: ['400', '600', '700'],\n  variable: '--font-crimson-pro',\n})\n\nconst cinzelDecorative = Cinzel_Decorative({\n  subsets: ['latin'],\n  weight: ['400', '700'],\n  variable: '--font-cinzel-decorative',\n})\n\n// Critical: Ensure crypto is available globally for WASM before ANY components mount\nif (typeof window !== 'undefined' && typeof window.crypto !== 'undefined') {\n  const originalCrypto = window.crypto;\n\n  // Create a wrapper object with getRandomValues properly bound\n  // This is needed because wasm-bindgen expects a callable function\n  const cryptoWrapper = {\n    getRandomValues: originalCrypto.getRandomValues.bind(originalCrypto),\n    // Copy other crypto methods if needed\n    subtle: originalCrypto.subtle,\n    randomUUID: originalCrypto.randomUUID?.bind(originalCrypto),\n  };\n\n  // Try to set on various global scopes (some may be read-only)\n  try {\n    if (typeof globalThis !== 'undefined' && typeof (globalThis as { crypto?: Crypto }).crypto === 'undefined') {\n      (globalThis as { crypto?: Crypto }).crypto = cryptoWrapper;\n    }\n  } catch {\n    // Silently handle crypto polyfill errors in production\n  }\n\n  try {\n    if (typeof self !== 'undefined' && self !== window && typeof self.crypto === 'undefined') {\n      (self as { crypto: Crypto }).crypto = cryptoWrapper;\n    }\n  } catch {\n    // Silently handle crypto polyfill errors in production\n  }\n} else {\n  }\n\nexport default function App({ Component, pageProps }: AppProps) {\n  return (\n    <main className={`${crimsonPro.variable} ${cinzelDecorative.variable} font-serif`}>\n      <Component {...pageProps} />\n    </main>\n  )\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/pages/api/adventuring-days/[filename].ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/pages/api/adventuring-days/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/pages/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/wasm.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/worker/simulation.worker.test.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-function-type","severity":1,"message":"The `Function` type accepts any function-like value.\nPrefer explicitly defining any function parameters and return type.","line":35,"column":34,"nodeType":"Identifier","messageId":"bannedFunctionType","endLine":35,"endColumn":42}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { vi, describe, it, expect, beforeEach } from 'vitest';\n\n// Mock the dependencies\nvi.mock('simulation-wasm', () => {\n  const mockGetAnalysis = vi.fn().mockReturnValue({\n    results: [],\n    analysis: {},\n    firstRunEvents: []\n  });\n\n  const mockRunChunk = vi.fn().mockReturnValue(100);\n\n  const MockChunkedSimulationRunner = vi.fn().mockImplementation(function() {\n    return {\n      run_chunk: mockRunChunk,\n      get_analysis: mockGetAnalysis\n    };\n  });\n\n  return {\n    default: vi.fn().mockResolvedValue({}),\n    ChunkedSimulationRunner: MockChunkedSimulationRunner,\n    auto_adjust_encounter_wasm: vi.fn()\n  };\n});\n\nconst postMessageMock = vi.fn();\nglobal.self = {\n  postMessage: postMessageMock,\n  onmessage: null\n} as { postMessage: typeof postMessageMock; onmessage: null };\n\n// Mock setTimeout to execute once to avoid infinite recursion in tests\nlet timeoutCount = 0;\nvi.stubGlobal('setTimeout', (fn: Function) => {\n  if (timeoutCount < 2) {\n    timeoutCount++;\n    fn();\n  }\n});\n\nimport { handleMessage } from './simulation.worker';\nimport { ChunkedSimulationRunner } from 'simulation-wasm';\n\ndescribe('SimulationWorker', () => {\n  beforeEach(() => {\n    vi.clearAllMocks();\n    timeoutCount = 0;\n  });\n\n  it('should use ChunkedSimulationRunner correctly', async () => {\n    const event = {\n      data: {\n        type: 'START_SIMULATION',\n        players: [],\n        timeline: [],\n        genId: 1\n      }\n    } as MessageEvent;\n\n    await handleMessage(event);\n\n    expect(ChunkedSimulationRunner).toHaveBeenCalledWith(\n      expect.anything(),\n      expect.anything(),\n      undefined\n    );\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/src/worker/simulation.worker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/max/Rust/Battlesim2/vitest.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
