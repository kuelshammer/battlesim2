{"id":"Battlesim2-191","title":"Expose AI Decision Trace in Logs","description":"Include the AI's internal scoring matrix in ActionStarted events to make decision logic transparent.","design":"# Implementation Plan\n\n## Proposed Changes\n\n### [Backend] simulation-wasm\n\n#### [MODIFY] execution.rs\n- Update `select_actions_for_combatant` to return both selected actions and a `HashMap\u003cString, f64\u003e` \"decision trace\" containing scores of all evaluated actions.\n- Update `execute_combatant_turn` to handle the trace.\n- Update `execute_action_with_reactions` to accept an optional `decision_trace`.\n- Pass the trace to `Event::ActionStarted`.\n\n#### [MODIFY] events.rs\n- Update `Event::format_for_log` to display the `decision_trace` in the CLI output.\n\n### [Frontend] TypeScript / React\n\n#### [MODIFY] model.ts\n- Update `EventSchema` for `ActionStarted` to include `decision_trace: Record\u003cstring, number\u003e`.\n\n#### [MODIFY] logFormatter.ts\n- Update `LogFormatter.toDetails` to handle `ActionStarted` events and format the `decision_trace`.\n\n#### [MODIFY] EventLog.tsx\n- Ensure `ActionStarted` events are marked as `hasDetails` if a `decision_trace` is present.\n\n## Verification Plan\n- **Automated**: Run `cargo test` and add a test case for trace population.\n- **Manual**: Verify CLI output and UI breakdown.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T07:13:08.066028+01:00","updated_at":"2025-12-27T10:32:13.991742+01:00","closed_at":"2025-12-27T10:32:13.991742+01:00","close_reason":"Closed","labels":["backend","frontend"]}
{"id":"Battlesim2-1h0","title":"Project Migration: Conductor to Beads","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-26T18:29:39.868231+01:00","updated_at":"2025-12-26T23:45:14.414414+01:00","closed_at":"2025-12-26T23:45:14.414414+01:00","close_reason":"All sub-tasks (cleanup, frontend polish, and backend diagnostics) are complete. Project is now fully powered by Beads.","labels":["tech-debt"]}
{"id":"Battlesim2-1rv","title":"Implement Multi-Run Tail Auditing","description":"Extend the auditor to verify 10 random runs from the 2511-batch to ensure compliance in edge cases.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T07:13:02.883898+01:00","updated_at":"2025-12-27T07:16:30.162305+01:00","closed_at":"2025-12-27T07:16:30.162305+01:00","close_reason":"Implemented multi-run auditing with 'batch-log' command and updated scripts.","labels":["backend","quality"]}
{"id":"Battlesim2-1ub","title":"Delete deprecated Conductor tracking files","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T18:29:45.058632+01:00","updated_at":"2025-12-26T18:30:56.036314+01:00","closed_at":"2025-12-26T18:30:56.036314+01:00","close_reason":"Conductor tracking files removed.","labels":["tech-debt"],"dependencies":[{"issue_id":"Battlesim2-1ub","depends_on_id":"Battlesim2-1h0","type":"parent-child","created_at":"2025-12-26T18:30:40.544373+01:00","created_by":"daemon"}]}
{"id":"Battlesim2-2ll","title":"Implement Rule Auditor for 5e Compliance","description":"A script to validate JSON logs against 5e Action Economy, Concentration, and Resource constraints.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T23:48:22.494485+01:00","updated_at":"2025-12-26T23:49:34.660371+01:00","closed_at":"2025-12-26T23:49:34.660371+01:00","close_reason":"Implemented Rule Auditor with checks for Action Economy, Reaction limits, and Concentration cleanup on death.","labels":["backend","quality"]}
{"id":"Battlesim2-d3w","title":"Avant-Garde Visual Refactor: The Grimoire Log","description":"Redesign the EventLog using bespoke typography and asymmetric layouts to move away from generic material UI.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T07:13:13.24283+01:00","updated_at":"2025-12-27T07:13:13.24283+01:00","labels":["design","frontend"]}
{"id":"Battlesim2-fzh","title":"Optimize LogFormatter.ts for better roll breakdown","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T18:29:50.242214+01:00","updated_at":"2025-12-26T22:43:25.55263+01:00","closed_at":"2025-12-26T22:43:25.55263+01:00","close_reason":"Optimized mathematical breakdown for all roll types.","labels":["frontend"],"dependencies":[{"issue_id":"Battlesim2-fzh","depends_on_id":"Battlesim2-1h0","type":"parent-child","created_at":"2025-12-26T18:30:45.705946+01:00","created_by":"daemon"}]}
{"id":"Battlesim2-g4u","title":"Resolve Rust Compilation Warnings","description":"Identify and fix various compilation warnings in the simulation-wasm Rust codebase, including unused imports, unused variables, and naming convention issues.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T09:55:20.788439+01:00","updated_at":"2025-12-27T10:17:21.438017+01:00","closed_at":"2025-12-27T10:17:21.438017+01:00","close_reason":"Closed"}
{"id":"Battlesim2-wpt","title":"Implement AI Action Diagnostics in combat log","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T18:29:55.422859+01:00","updated_at":"2025-12-26T22:43:30.717651+01:00","closed_at":"2025-12-26T22:43:30.717651+01:00","close_reason":"Integrated skipped action diagnostics with UI warning states.","labels":["backend"],"dependencies":[{"issue_id":"Battlesim2-wpt","depends_on_id":"Battlesim2-1h0","type":"parent-child","created_at":"2025-12-26T18:30:50.865678+01:00","created_by":"daemon"}]}
